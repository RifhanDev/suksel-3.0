app.filter("nl2br",function(){return function(e){return e?e.replace(/\n\r?/g,"<br />"):e}}).controller("timelineController",function(e,r){$("#remark-text").removeAttr("disabled"),$("#remark-text").removeAttr("readonly"),e.vendorId=vendorId,e.userId=userId,e.isShow=!1;var n="/vendor/"+e.vendorId+"/remarks";e.remarks=[],e.newRemark={thumbsup:0,remarks:""},r.get(n).success(function(r){e.remarks=r}),e.createRemarks=function(){e.newRemark.remarks&&r.post(n,e.newRemark).success(function(r){e.remarks.unshift(r),e.newRemark.remarks="",e.newRemark.thumbsup=0})},e.saveEdittedRemark=function(t){var s=e.remarks[t];r.put(n+"/"+s.id,s).success(function(r){e.remarks[t]=r})},e.removeRemark=function(t){var s=e.remarks[t];bootbox.confirm("Are your sure you want to delete this?",function(o){o&&r["delete"](n+"/"+s.id,s).success(function(){e.remarks.splice(t,1)})})}});