if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=J.type(t);return"function"===n||J.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(J.isFunction(e))return J.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return J.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ae.test(e))return J.filter(e,t,n);e=J.filter(e,t)}return J.grep(t,function(t){return q.call(e,t)>=0!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=pe[t]={};return J.each(t.match(fe)||[],function(t,n){e[n]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),J.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+Math.random()}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(we,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?J.parseJSON(n):n}catch(o){}ye.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return Q.activeElement}catch(t){}}function h(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,i,o,r,s,a,l,u;if(1===e.nodeType){if(ve.hasData(t)&&(r=ve.access(t),s=ve.set(e,r),u=r.events)){delete s.handle,s.events={};for(o in u)for(n=0,i=u[o].length;i>n;n++)J.event.add(e,o,u[o][n])}ye.hasData(t)&&(a=ye.access(t),l=J.extend({},a),ye.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Te.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,o=J(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(o[0]))?i.display:J.css(o[0],"display");return o.detach(),r}function w(t){var e=Q,n=Ue[t];return n||(n=b(t,e),"none"!==n&&n||(Pe=(Pe||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Pe[0].contentDocument,e.write(),e.close(),n=b(t,e),Pe.detach()),Ue[t]=n),n}function C(t,e,n){var i,o,r,s,a=t.style;return n=n||Ye(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||J.contains(t.ownerDocument,t)||(s=J.style(t,e)),je.test(s)&&ze.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,o=Ke.length;o--;)if(e=Ke[o]+n,e in t)return e;return i}function T(t,e,n){var i=We.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function S(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=J.css(t,n+xe[r],!0,o)),i?("content"===n&&(s-=J.css(t,"padding"+xe[r],!0,o)),"margin"!==n&&(s-=J.css(t,"border"+xe[r]+"Width",!0,o))):(s+=J.css(t,"padding"+xe[r],!0,o),"padding"!==n&&(s+=J.css(t,"border"+xe[r]+"Width",!0,o)));return s}function k(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Ye(t),s="border-box"===J.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=C(t,e,r),(0>o||null==o)&&(o=t.style[e]),je.test(o))return o;i=s&&(Z.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,n||(s?"border":"content"),i,r)+"px"}function E(t,e){for(var n,i,o,r=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(r[s]=ve.get(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&De(i)&&(r[s]=ve.access(i,"olddisplay",w(i.nodeName)))):(o=De(i),"none"===n&&o||ve.set(i,"olddisplay",o?n:J.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function _(t,e,n,i,o){return new _.prototype.init(t,e,n,i,o)}function M(){return setTimeout(function(){Ze=void 0}),Ze=J.now()}function $(t,e){var n,i=0,o={height:t};for(e=e?1:0;4>i;i+=2-e)n=xe[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function O(t,e,n){for(var i,o=(nn[e]||[]).concat(nn["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,e,t))return i}function F(t,e,n){var i,o,r,s,a,l,u,c,d=this,h={},f=t.style,p=t.nodeType&&De(t),g=ve.get(t,"fxshow");n.queue||(a=J._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,J.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=J.css(t,"display"),c="none"===u?ve.get(t,"olddisplay")||w(t.nodeName):u,"inline"===c&&"none"===J.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Xe.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||J.style(t,i)}else u=void 0;if(J.isEmptyObject(h))"inline"===("none"===u?w(t.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),r&&(g.hidden=!p),p?J(t).show():d.done(function(){J(t).hide()}),d.done(function(){var e;ve.remove(t,"fxshow");for(e in h)J.style(t,e,h[e])});for(i in h)s=O(p?g[i]:0,i,d),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function A(t,e){var n,i,o,r,s;for(n in t)if(i=J.camelCase(n),o=e[i],r=t[n],J.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),s=J.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function N(t,e,n){var i,o,r=0,s=en.length,a=J.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Ze||M(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,r=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(r);return a.notifyWith(t,[u,r,n]),1>r&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ze||M(),duration:n.duration,tweens:[],createTween:function(e,n){var i=J.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(A(c,u.opts.specialEasing);s>r;r++)if(i=en[r].call(u,t,c,u.opts))return i;return J.map(c,O,u),J.isFunction(u.opts.start)&&u.opts.start.call(t,u),J.fx.timer(J.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function I(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(fe)||[];if(J.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function R(t,e,n,i){function o(a){var l;return r[a]=!0,J.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=t===xn;return o(e.dataTypes[0])||!r["*"]&&o("*")}function H(t,e){var n,i,o=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&J.extend(!0,t,i),t}function L(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function P(t,e,n,i){var o,r,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=u[l+" "+r]||u["* "+r],!s)for(o in u)if(a=o.split(" "),a[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[o]:u[o]!==!0&&(r=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function U(t,e,n,i){var o;if(J.isArray(e))J.each(e,function(e,o){n||kn.test(t)?i(t,o):U(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==J.type(e))i(t,e);else for(o in e)U(t+"["+o+"]",e[o],n,i)}function z(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var j=[],Y=j.slice,B=j.concat,W=j.push,q=j.indexOf,V={},G=V.toString,K=V.hasOwnProperty,Z={},Q=t.document,X="2.1.1",J=function(t,e){return new J.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:X,constructor:J,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Y.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:j.sort,splice:j.splice},J.extend=J.fn.extend=function(){var t,e,n,i,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||J.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(J.isPlainObject(i)||(o=J.isArray(i)))?(o?(o=!1,r=n&&J.isArray(n)?n:[]):r=n&&J.isPlainObject(n)?n:{},s[e]=J.extend(u,r,i)):void 0!==i&&(s[e]=i));return s},J.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==J.type(t)||t.nodeType||J.isWindow(t)?!1:t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?V[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=J.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,s=t.length,a=n(t);if(i){if(a)for(;s>r&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?J.merge(i,"string"==typeof t?[t]:t):W.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],r=0,s=t.length,a=!n;s>r;r++)i=!e(t[r],r),i!==a&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,s=t.length,a=n(t),l=[];if(a)for(;s>r;r++)o=e(t[r],r,i),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,i),null!=o&&l.push(o);return B.apply([],l)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(i=Y.call(arguments,2),o=function(){return t.apply(e||this,i.concat(Y.call(arguments)))},o.guid=t.guid=t.guid||J.guid++,o):void 0},now:Date.now,support:Z}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()});var oe=function(t){function e(t,e,n,i){var o,r,s,a,l,u,d,f,p,g;if((e?e.ownerDocument||e:U)!==F&&O(e),e=e||F,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(N&&!i){if(o=ye.exec(t))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&L(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return J.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&C.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(s)),n}if(C.qsa&&(!I||!I.test(t))){if(f=d=P,p=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=S(t),(d=e.getAttribute("id"))?f=d.replace(we,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+h(u[l]);p=be.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return E(t.replace(le,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[P]=!0,t}function o(t){var e=F.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&typeof t.getElementsByTagName!==V&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,u=[z,r];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(l=e[P]||(e[P]={}),(a=l[i])&&a[0]===z&&a[1]===r)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var o=0,r=n.length;r>o;o++)e(t,n[o],i);return i}function m(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(r=t[a])&&(!n||n(r,i,o))&&(s.push(r),u&&e.push(a));return s}function v(t,e,n,o,r,s){return o&&!o[P]&&(o=v(o)),r&&!r[P]&&(r=v(r,s)),i(function(i,s,a,l){var u,c,d,h=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,h,t,a,l),b=n?r||(i?t:p||o)?[]:s:y;if(n&&n(y,b,a,l),o)for(u=m(b,f),o(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(i){if(r||t){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=r?ee.call(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=m(b===s?b.splice(p,b.length):b),r?r(null,s,b,l):J.apply(s,b)})}function y(t){for(var e,n,i,o=t.length,r=x.relative[t[0].type],s=r||x.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),u=f(function(t){return ee.call(e,t)>-1},s,!0),c=[function(t,n,i){return!r&&(i||n!==_)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];o>a;a++)if(n=x.relative[t[a].type])c=[f(p(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[P]){for(i=++a;o>i&&!x.relative[t[i].type];i++);return v(a>1&&p(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),n,i>a&&y(t.slice(a,i)),o>i&&y(t=t.slice(i)),o>i&&h(t))}c.push(n)}return p(c)}function b(t,n){var o=n.length>0,r=t.length>0,s=function(i,s,a,l,u){var c,d,h,f=0,p="0",g=i&&[],v=[],y=_,b=i||r&&x.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,C=b.length;for(u&&(_=s!==F&&s);p!==C&&null!=(c=b[p]);p++){if(r&&c){for(d=0;h=t[d++];)if(h(c,s,a)){l.push(c);break}u&&(z=w)}o&&((c=!h&&c)&&f--,i&&g.push(c))}if(f+=p,o&&p!==f){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=Q.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(z=w,_=y),g};return o?i(s):s}var w,C,x,D,T,S,k,E,_,M,$,O,F,A,N,I,R,H,L,P="sizzle"+-new Date,U=t.document,z=0,j=0,Y=n(),B=n(),W=n(),q=function(t,e){return t===e&&($=!0),0},V="undefined",G=1<<31,K={}.hasOwnProperty,Z=[],Q=Z.pop,X=Z.push,J=Z.push,te=Z.slice,ee=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=oe.replace("w","w#"),se="\\["+ie+"*("+oe+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ue=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),he=new RegExp(ae),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Z=te.call(U.childNodes),U.childNodes),Z[U.childNodes.length].nodeType}catch(De){J={apply:Z.length?function(t,e){X.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}C=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:U,i=n.defaultView;return n!==F&&9===n.nodeType&&n.documentElement?(F=n,A=n.documentElement,N=!T(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){O()},!1):i.attachEvent&&i.attachEvent("onunload",function(){O()})),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=ve.test(n.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=o(function(t){return A.appendChild(t).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),C.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==V&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(Ce,xe);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(Ce,xe);return function(t){var n=typeof t.getAttributeNode!==V&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=C.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},x.find.CLASS=C.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&N?e.getElementsByClassName(t):void 0},R=[],I=[],(C.qsa=ve.test(n.querySelectorAll))&&(o(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&I.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(C.matchesSelector=ve.test(H=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){C.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),R.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),e=ve.test(A.compareDocumentPosition),L=e||ve.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return $=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!C.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===U&&L(U,t)?-1:e===n||e.ownerDocument===U&&L(U,e)?1:M?ee.call(M,t)-ee.call(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return $=!0,0;var i,o=0,r=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!r||!a)return t===n?-1:e===n?1:r?-1:a?1:M?ee.call(M,t)-ee.call(M,e):0;if(r===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===U?-1:u[o]===U?1:0},n):F},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==F&&O(t),n=n.replace(de,"='$1']"),!(!C.matchesSelector||!N||R&&R.test(n)||I&&I.test(n)))try{var i=H.call(t,n);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&O(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&O(t);var n=x.attrHandle[e.toLowerCase()],i=n&&K.call(x.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:C.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if($=!C.detectDuplicates,M=!C.sortStable&&t.slice(0),t.sort(q),$){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return M=null,t},D=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=D(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ce,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(Ce,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ce,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var r=e.attr(o,t);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(c=m[P]||(m[P]={}),u=c[t]||[],f=u[0]===z&&u[1],h=u[0]===z&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[z,f,h];break}}else if(y&&(u=(e[P]||(e[P]={}))[t])&&u[0]===z)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[P]||(d[P]={}))[t]=[z,h]),d!==e)););return h-=o,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[P]?r(n):r.length>1?(o=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)i=ee.call(t,o[s]),t[i]=!(e[i]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:i(function(t){var e=[],n=[],o=k(t.replace(le,"$1"));return o[P]?i(function(t,e,n,i){for(var r,s=o(t,null,i,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,i,r){return e[0]=t,o(e,null,r,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:i(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ce,xe).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,S=e.tokenize=function(t,n){var i,o,r,s,a,l,u,c=B[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!i||(o=ue.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=ce.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(le," ")}),a=a.slice(i.length));for(s in x.filter)!(o=pe[s].exec(a))||u[s]&&!(o=u[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):B(t,l).slice(0)},k=e.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=S(t)),n=e.length;n--;)r=y(e[n]),r[P]?i.push(r):o.push(r);r=W(t,b(o,i)),r.selector=t}return r},E=e.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,d=!i&&S(t=u.selector||t);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&C.getById&&9===e.nodeType&&N&&x.relative[r[1].type]){if(e=(x.find.ID(s.matches[0].replace(Ce,xe),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=pe.needsContext.test(t)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(Ce,xe),be.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&h(r),!t)return J.apply(n,i),n;break}}return(u||k(t,d))(i,e,!N,n,be.test(t)&&c(e.parentNode)||e),n},C.sortStable=P.split("").sort(q).join("")===P,C.detectDuplicates=!!$,O(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);J.find=oe,J.expr=oe.selectors,J.expr[":"]=J.expr.pseudos,J.unique=oe.uniqueSort,J.text=oe.getText,J.isXMLDoc=oe.isXML,J.contains=oe.contains;var re=J.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?J.find.matchesSelector(i,t)?[i]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;n>e;e++)if(J.contains(o[e],this))return!0
}));for(e=0;n>e;e++)J.find(t,o[e],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&re.test(t)?J(t):t||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=J.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ue.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||le).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),se.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof le.ready?le.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))};ce.prototype=J.fn,le=J(Q);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&J(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=re.test(t)||"string"!=typeof t?J(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?J.unique(r):r)},index:function(t){return t?"string"==typeof t?q.call(J(t),this[0]):q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(n,i){var o=J.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=J.filter(i,o)),this.length>1&&(he[t]||J.unique(o),de.test(t)&&o.reverse()),this.pushStack(o)}});var fe=/\S+/g,pe={};J.Callbacks=function(t){t="string"==typeof t?pe[t]||r(t):J.extend({},t);var e,n,i,o,s,a,l=[],u=!t.once&&[],c=function(r){for(e=t.memory&&r,n=!0,a=o||0,o=0,s=l.length,i=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function r(e){J.each(e,function(e,n){var i=J.type(n);"function"===i?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),i?s=l.length:e&&(o=n,c(e))}return this},remove:function(){return l&&J.each(arguments,function(t,e){for(var n;(n=J.inArray(e,l,n))>-1;)l.splice(n,1),i&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?J.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(n){J.each(e,function(e,r){var s=J.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,i):i}},o={};return i.pipe=i.then,J.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=Y.call(arguments),s=r.length,a=1!==s||t&&J.isFunction(t.promise)?s:0,l=1===a?t:J.Deferred(),u=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?Y.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&J.isFunction(r[o].promise)?r[o].promise().done(u(o,i,r)).fail(l.reject).progress(u(o,n,e)):--a;return a||l.resolveWith(i,r),l.promise()}});var ge;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(t===!0?--J.readyWait:J.isReady)||(J.isReady=!0,t!==!0&&--J.readyWait>0||(ge.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(e){return ge||(ge=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ge.promise(e)},J.ready.promise();var me=J.access=function(t,e,n,i,o,r,s){var a=0,l=t.length,u=null==n;if("object"===J.type(n)){o=!0;for(a in n)J.access(t,e,a,n[a],!0,r,s)}else if(void 0!==i&&(o=!0,J.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(J(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):r};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=J.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(J.isEmptyObject(r))J.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,J.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=this.key(t),s=this.cache[r];if(void 0===e)this.cache[r]={};else{J.isArray(e)?i=e.concat(e.map(J.camelCase)):(o=J.camelCase(e),e in s?i=[e,o]:(i=o,i=i in s?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new a,ye=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;J.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),J.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=ye.get(r),1===r.nodeType&&!ve.get(r,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),l(r,i,o[i])));ve.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,i=J.camelCase(t);if(r&&void 0===e){if(n=ye.get(r,t),void 0!==n)return n;if(n=ye.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),J.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||J.isArray(n)?i=ve.access(t,e,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),i=n.length,o=n.shift(),r=J._queueHooks(t,e),s=function(){J.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):void 0===e?this:this.each(function(){var n=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=J.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ve.get(r[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],De=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},Te=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";Z.focusinBubbles="onfocusin"in t;var ke=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=ve.get(t);if(m)for(n.handler&&(r=n,n=r.handler,o=r.selector),n.guid||(n.guid=J.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof J!==Se&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(fe)||[""],u=e.length;u--;)a=Me.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(d=J.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=J.event.special[f]||{},c=J.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(f,s,!1)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),J.event.global[f]=!0)},remove:function(t,e,n,i,o){var r,s,a,l,u,c,d,h,f,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(l=m.events)){for(e=(e||"").match(fe)||[""],u=e.length;u--;)if(a=Me.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=J.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)c=h[r],!o&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));s&&!h.length&&(d.teardown&&d.teardown.call(t,p,m.handle)!==!1||J.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)J.event.remove(t,f+e[u],n,i,!0);J.isEmptyObject(l)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,o){var r,s,a,l,u,c,d,h=[i||Q],f=K.call(e,"type")?e.type:e,p=K.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!_e.test(f+J.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[J.expando]?e:new J.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:J.makeArray(n,[e]),d=J.event.special[f]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!J.isWindow(i)){for(l=d.delegateType||f,_e.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||Q)&&h.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=h[r++])&&!e.isPropagationStopped();)e.type=r>1?l:d.bindType||f,c=(ve.get(s,"events")||{})[e.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&J.acceptData(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!J.acceptData(i)||u&&J.isFunction(i[f])&&!J.isWindow(i)&&(a=i[u],a&&(i[u]=null),J.event.triggered=f,i[f](),J.event.triggered=void 0,a&&(i[u]=a)),e.result}},dispatch:function(t){t=J.event.fix(t);var e,n,i,o,r,s=[],a=Y.call(arguments),l=(ve.get(this,"events")||{})[t.type]||[],u=J.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=J.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,i=((J.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)r=e[n],o=r.selector+" ",void 0===i[o]&&(i[o]=r.needsContext?J(o,this).index(l)>=0:J.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,o=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Ee.test(o)?this.mouseHooks:ke.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new J.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?J.event.trigger(o,null,e):J.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!J.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ve.access(i,e);o||i.addEventListener(t,n,!0),ve.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ve.access(i,e)-1;o?ve.access(i,e,o):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),J.fn.extend({on:function(t,e,n,i,o){var r,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=c;else if(!i)return this;return 1===o&&(r=i,i=function(t){return J().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=J.guid++)),this.each(function(){J.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,J(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Fe=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,J.extend({clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),l=J.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(s=v(a),r=v(t),i=0,o=r.length;o>i;i++)y(r[i],s[i]);if(e)if(n)for(r=r||v(t),s=s||v(a),i=0,o=r.length;o>i;i++)m(r[i],s[i]);else m(t,a);return s=v(a,"script"),s.length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,n,i){for(var o,r,s,a,l,u,c=e.createDocumentFragment(),d=[],h=0,f=t.length;f>h;h++)if(o=t[h],o||0===o)if("object"===J.type(o))J.merge(d,o.nodeType?[o]:o);else if(Fe.test(o)){for(r=r||c.appendChild(e.createElement("div")),s=(Oe.exec(o)||["",""])[1].toLowerCase(),a=Le[s]||Le._default,r.innerHTML=a[1]+o.replace($e,"<$1></$2>")+a[2],u=a[0];u--;)r=r.lastChild;J.merge(d,r.childNodes),r=c.firstChild,r.textContent=""}else d.push(e.createTextNode(o));for(c.textContent="",h=0;o=d[h++];)if((!i||-1===J.inArray(o,i))&&(l=J.contains(o.ownerDocument,o),r=v(c.appendChild(o),"script"),l&&g(r),n))for(u=0;o=r[u++];)Ie.test(o.type||"")&&n.push(o);return c},cleanData:function(t){for(var e,n,i,o,r=J.event.special,s=0;void 0!==(n=t[s]);s++){if(J.acceptData(n)&&(o=n[ve.expando],o&&(e=ve.cache[o]))){if(e.events)for(i in e.events)r[i]?J.event.remove(n,i):J.removeEvent(n,i,e.handle);ve.cache[o]&&delete ve.cache[o]}delete ye.cache[n[ye.expando]]}}}),J.fn.extend({text:function(t){return me(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?J.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ae.test(t)&&!Le[(Oe.exec(t)||["",""])[1].toLowerCase()]){t=t.replace($e,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(J.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=B.apply([],t);var n,i,o,r,s,a,l=0,u=this.length,c=this,d=u-1,h=t[0],g=J.isFunction(h);if(g||u>1&&"string"==typeof h&&!Z.checkClone&&Ne.test(h))return this.each(function(n){var i=c.eq(n);g&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(u&&(n=J.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(o=J.map(v(n,"script"),f),r=o.length;u>l;l++)s=n,l!==d&&(s=J.clone(s,!0,!0),r&&J.merge(o,v(s,"script"))),e.call(this[l],s,l);if(r)for(a=o[o.length-1].ownerDocument,J.map(o,p),l=0;r>l;l++)s=o[l],Ie.test(s.type||"")&&!ve.access(s,"globalEval")&&J.contains(a,s)&&(s.src?J._evalUrl&&J._evalUrl(s.src):J.globalEval(s.textContent.replace(He,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var n,i=[],o=J(t),r=o.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),J(o[s])[e](n),W.apply(i,n.get());return this.pushStack(i)}});var Pe,Ue={},ze=/^margin/,je=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),Ye=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(s,null);n="1%"!==e.top,i="4px"===e.width,o.removeChild(r)}var n,i,o=Q.documentElement,r=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),t.getComputedStyle&&J.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(n,null).marginRight),o.removeChild(r),e}}))}(),J.swap=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o};var Be=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+Ce+")(.*)$","i"),qe=new RegExp("^([+-])=("+Ce+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=C(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=J.camelCase(e),l=t.style;return e=J.cssProps[a]||(J.cssProps[a]=D(l,a)),s=J.cssHooks[e]||J.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:l[e]:(r=typeof n,"string"===r&&(o=qe.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(J.css(t,e)),r="number"),null!=n&&n===n&&("number"!==r||J.cssNumber[a]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var o,r,s,a=J.camelCase(e);return e=J.cssProps[a]||(J.cssProps[a]=D(t.style,a)),s=J.cssHooks[e]||J.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=C(t,e,i)),"normal"===o&&e in Ge&&(o=Ge[e]),""===n||n?(r=parseFloat(o),n===!0||J.isNumeric(r)?r||0:o):o}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,n,i){return n?Be.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Ve,function(){return k(t,e,i)}):k(t,e,i):void 0},set:function(t,n,i){var o=i&&Ye(t);return T(t,n,i?S(t,e,i,"border-box"===J.css(t,"boxSizing",!1,o),o):0)}}}),J.cssHooks.marginRight=x(Z.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},C,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+xe[i]+e]=r[i]||r[i-2]||r[0];return o}},ze.test(t)||(J.cssHooks[t+e].set=T)}),J.fn.extend({css:function(t,e){return me(this,function(t,e,n){var i,o,r={},s=0;if(J.isArray(e)){for(i=Ye(t),o=e.length;o>s;s++)r[e[s]]=J.css(t,e[s],!1,i);return r}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){De(this)?J(this).show():J(this).hide()})}}),J.Tween=_,_.prototype={constructor:_,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(J.cssNumber[n]?"":"px")},cur:function(){var t=_.propHooks[this.prop];return t&&t.get?t.get(this):_.propHooks._default.get(this)},run:function(t){var e,n=_.propHooks[this.prop];return this.pos=e=this.options.duration?J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=_.prototype.init,J.fx.step={};var Ze,Qe,Xe=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[F],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Je.exec(e),r=o&&o[3]||(J.cssNumber[t]?"":"px"),s=(J.cssNumber[t]||"px"!==r&&+i)&&Je.exec(J.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,J.style(n.elem,t,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};J.Animation=J.extend(N,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),J.speed=function(t,e,n){var i=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(t,e,n,i){return this.filter(De).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=J.isEmptyObject(t),r=J.speed(e,n,i),s=function(){var e=N(this,J.extend({},t),r);(o||ve.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=J.timers,s=ve.get(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&tn.test(o)&&i(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));(e||!n)&&J.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=J.timers,s=i?i.length:0;for(n.finish=!0,J.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(t,e){var n=J.fn[e];
J.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate($(e,!0),t,i,o)}}),J.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Ze=J.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Ze=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Qe||(Qe=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Qe),Qe=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var on,rn,sn=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return me(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Se?J.prop(t,e,n):(1===r&&J.isXMLDoc(t)||(e=e.toLowerCase(),i=J.attrHooks[e]||(J.expr.match.bool.test(e)?rn:on)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=J.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(fe);if(r&&1===t.nodeType)for(;n=r[o++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),rn={set:function(t,e,n){return e===!1?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var n=sn[e]||J.find.attr;sn[e]=function(t,e,i){var o,r;return i||(r=sn[e],sn[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,sn[e]=r),o}});var an=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return me(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return r=1!==s||!J.isXMLDoc(t),r&&(e=J.propFix[e]||e,o=J.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||an.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,i,o,r,s,a="string"==typeof t&&t,l=0,u=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(fe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=J.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,o,r,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(fe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");s=t?J.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(J.isFunction(t)?function(n){J(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,o=J(this),r=t.match(fe)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(e)>=0)return!0;return!1}});var un=/\r/g;J.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=J.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,J(this).val()):t,null==o?o="":"number"==typeof o?o+="":J.isArray(o)&&(o=J.map(o,function(t){return null==t?"":t+""})),e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=J.valHooks[o.type]||J.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(un,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=J.makeArray(e),s=o.length;s--;)i=o[s],(i.selected=J.inArray(i.value,r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}},Z.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var cn=J.now(),dn=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var hn,fn,pn=/#.*$/,gn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yn=/^(?:GET|HEAD)$/,bn=/^\/\//,wn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Cn={},xn={},Dn="*/".concat("*");try{fn=location.href}catch(Tn){fn=Q.createElement("a"),fn.href="",fn=fn.href}hn=wn.exec(fn.toLowerCase())||[],J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fn,type:"GET",isLocal:vn.test(hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,J.ajaxSettings),e):H(J.ajaxSettings,t)},ajaxPrefilter:I(Cn),ajaxTransport:I(xn),ajax:function(t,e){function n(t,e,n,s){var l,c,v,y,w,x=e;2!==b&&(b=2,a&&clearTimeout(a),i=void 0,r=s||"",C.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=L(d,C,n)),y=P(d,y,C,l),l?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(J.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(J.etag[o]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,l=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),C.status=t,C.statusText=(e||x)+"",l?p.resolveWith(h,[c,x,C]):p.rejectWith(h,[C,x,v]),C.statusCode(m),m=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[C,d,l?c:v]),g.fireWith(h,[C,x]),u&&(f.trigger("ajaxComplete",[C,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,r,s,a,l,u,c,d=J.ajaxSetup({},e),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?J(h):J.event,p=J.Deferred(),g=J.Callbacks("once memory"),m=d.statusCode||{},v={},y={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=mn.exec(r);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(p.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,d.url=((t||d.url||fn)+"").replace(pn,"").replace(bn,hn[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(l=wn.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===hn[1]&&l[2]===hn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(hn[3]||("http:"===hn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),R(Cn,d,e,C),2===b)return C;u=d.global,u&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!yn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(dn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=gn.test(o)?o.replace(gn,"$1_="+cn++):o+(dn.test(o)?"&":"?")+"_="+cn++)),d.ifModified&&(J.lastModified[o]&&C.setRequestHeader("If-Modified-Since",J.lastModified[o]),J.etag[o]&&C.setRequestHeader("If-None-Match",J.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Dn+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)C.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(h,C,d)===!1||2===b))return C.abort();w="abort";for(c in{success:1,error:1,complete:1})C[c](d[c]);if(i=R(xn,d,e,C)){C.readyState=1,u&&f.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){C.abort("timeout")},d.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,n,i,o){return J.isFunction(n)&&(o=o||i,i=n,n=void 0),J.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))}:function(){var e=J(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(n){J(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var Sn=/%20/g,kn=/\[\]$/,En=/\r?\n/g,_n=/^(?:submit|button|image|reset|file)$/i,Mn=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,i=[],o=function(t,e){e=J.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){o(this.name,this.value)});else for(n in t)U(n,t[n],e,o);return i.join("&").replace(Sn,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&Mn.test(this.nodeName)&&!_n.test(t)&&(this.checked||!Te.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $n=0,On={},Fn={0:200,1223:204},An=J.ajaxSettings.xhr();t.ActiveXObject&&J(t).on("unload",function(){for(var t in On)On[t]()}),Z.cors=!!An&&"withCredentials"in An,Z.ajax=An=!!An,J.ajaxTransport(function(t){var e;return Z.cors||An&&!t.crossDomain?{send:function(n,i){var o,r=t.xhr(),s=++$n;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)r.setRequestHeader(o,n[o]);e=function(t){return function(){e&&(delete On[s],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?i(r.status,r.statusText):i(Fn[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=On[s]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Nn=[],In=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Nn.pop()||J.expando+"_"+cn++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,s,a=e.jsonp!==!1&&(In.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(In,"$1"+o):e.jsonp!==!1&&(e.url+=(dn.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||J.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},i.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Nn.push(o)),s&&J.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=se.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=J.buildFragment([t],e,o),o&&o.length&&J(o).remove(),J.merge([],i.childNodes))};var Rn=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&Rn)return Rn.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return a>=0&&(i=J.trim(t.slice(a)),t=t.slice(0,a)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&J.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?J("<div>").append(J.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Hn=t.document.documentElement;J.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,u,c=J.css(t,"position"),d=J(t),h={};"static"===c&&(t.style.position="relative"),a=d.offset(),r=J.css(t,"top"),l=J.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),J.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):d.css(h)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;if(r)return e=r.documentElement,J.contains(e,i)?(typeof i.getBoundingClientRect!==Se&&(o=i.getBoundingClientRect()),n=z(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(i=t.offset()),i.top+=J.css(t[0],"borderTopWidth",!0),i.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-J.css(n,"marginTop",!0),left:e.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Hn;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||Hn})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;J.fn[e]=function(o){return me(this,function(e,o,r){var s=z(e);return void 0===r?s?s[n]:e[o]:void(s?s.scrollTo(i?t.pageXOffset:r,i?r:t.pageYOffset):e[o]=r)},e,o,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=x(Z.pixelPosition,function(t,n){return n?(n=C(t,e),je.test(n)?J(t).position()[e]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){J.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return me(this,function(e,n,i){var o;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?J.css(e,n,s):J.style(e,n,i,s)},e,r?i:void 0,r,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Ln=t.jQuery,Pn=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=Pn),e&&t.jQuery===J&&(t.jQuery=Ln),J},typeof e===Se&&(t.jQuery=t.$=J),J}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();n.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=n(i),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.4",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);
var a={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&o.find(r).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,s)),"string"==typeof e?r[e](i):s.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),d=r[0].offsetWidth,h=r[0].offsetHeight;if(u){var f=a,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);a="bottom"==a&&c.bottom+h>g.bottom?"top":"top"==a&&c.top-h<g.top?"bottom":"right"==a&&c.right+d>g.width?"left":"left"==a&&c.left-d<g.left?"right":a,r.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,c,d,h);this.applyPlacement(m,a);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=r&&(e.top=e.top+r-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=/top|bottom/.test(n),h=d?2*c.left-o+l:2*c.top-r+u,f=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var u=e.left-r,c=e.left+r+n;u<s.left?o.left=s.left-u:c>s.width&&(o.left=s.left+s.width-c)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o?"top":!1;if("bottom"==this.affixed)return null!=n?o+this.unpin<=r.top?!1:"bottom":t-i>=o+s?!1:"bottom";var a=null==this.affixed,l=a?o:r.top,u=a?s:e;return null!=n&&n>=o?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,s=t(document.body).height();"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=m[p.locale];return e?e[t]:m.en[t]}function o(t,n,i){t.stopPropagation(),t.preventDefault();var o=e.isFunction(i)&&i(t)===!1;o||n.modal("hide")}function r(t){var e,n=0;for(e in t)n++;return n}function s(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function a(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,n=t.buttons,i=r(n),s(n,function(t,o,r){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=2>=i&&r===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function u(t,n,i){return e.extend(!0,{},t,l(n,i))}function c(t,e,n,i){var o={className:"bootbox-"+t,buttons:d.apply(null,e)};return h(u(o,i,n),e)}function d(){for(var t={},e=0,n=arguments.length;n>e;e++){var o=arguments[e],r=o.toLowerCase(),s=o.toUpperCase();t[r]={label:i(s)}}return t}function h(t,e){var i={};return s(e,function(t,e){i[e]=!0}),s(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},g={};g.alert=function(){var t;if(t=c("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},g.dialog(t)},g.confirm=function(){var t;if(t=c("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},g.prompt=function(){var t,i,o,r,a,l,c;if(r=e(f.form),i={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},t=h(u(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n?!0:t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=a.val();break;case"checkbox":var i=a.find("input:checked");n=[],s(i,function(t,i){n.push(e(i).val())})}return t.callback(n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var p={};if(c=t.inputOptions||[],!c.length)throw new Error("prompt with select requires options");s(c,function(t,i){var o=a;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(p[i.group]||(p[i.group]=e("<optgroup/>").attr("label",i.group)),o=p[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),s(p,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(c=t.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");a=e("<div/>"),s(c,function(n,i){var o=e(f.inputs[t.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),s(m,function(t,e){e===i.value&&o.find("input").prop("checked",!0)}),a.append(o)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),r.append(a),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=g.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){a.focus()}),l===!0&&o.modal("show"),o},g.dialog=function(t){t=a(t);var n=e(f.dialog),i=n.find(".modal-dialog"),r=n.find(".modal-body"),l=t.buttons,u="",c={onEscape:t.onEscape};if(s(l,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",c[t]=e.callback}),r.find(".bootbox-body").html(t.message),t.animate===!0&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size&&i.addClass("modal-lg"),"small"===t.size&&i.addClass("modal-sm"),t.title&&r.before(f.header),t.closeButton){var d=e(f.closeButton);t.title?n.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(r)}return t.title&&n.find(".modal-title").html(t.title),u.length&&(r.after(f.footer),n.find(".modal-footer").html(u)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){c.onEscape&&o(t,n,c.onEscape)}),n.on("click",".modal-footer button",function(t){var i=e(this).data("bb-handler");o(t,n,c[i])}),n.on("click",".bootbox-close-button",function(t){o(t,n,c.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},g.hideAll=function(){return e(".bootbox").modal("hide"),g};var m={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};
return g.init=function(n){return t(n||e)},g}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Ee.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){Ce.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function r(t,e){var n=!0;return p(function(){return n&&(o(t),n=!1),e.apply(this,arguments)},e)}function s(t,e){bn[t]||(o(e),bn[t]=!0)}function a(t,e){return function(n){return v(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function u(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return 0>e-r?(n=t.clone().add(o-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(o+1,"months"),i=(e-r)/(n-r)),-(o+i)}function c(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function d(){}function h(t,e){e!==!1&&A(t),g(this,t),this._d=new Date(+t._d),Cn===!1&&(Cn=!0,Ce.updateOffset(this),Cn=!1)}function f(t){var e=k(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=Ce.localeData(),this._bubble()}function p(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function g(t,e){var n,i,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Re.length>0)for(n in Re)i=Re[n],o=e[i],"undefined"!=typeof o&&(t[i]=o);return t}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var i=""+Math.abs(t),o=t>=0;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function b(t,e){var n;return e=L(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function w(t,e){return function(n,i){var o,r;return null===i||isNaN(+i)||(s(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Ce.duration(n,i),C(this,o,t),this}}function C(t,e,n,i){var o=e._milliseconds,r=e._days,s=e._months;i=null==i?!0:i,o&&t._d.setTime(+t._d+o*n),r&&ge(t,"Date",pe(t,"Date")+r*n),s&&fe(t,pe(t,"Month")+s*n),i&&Ce.updateOffset(t,r||s)}function x(t){return"[object Array]"===Object.prototype.toString.call(t)}function D(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function T(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&s++;return s+r}function S(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=hn[t]||fn[e]||e}return t}function k(t){var e,i,o={};for(i in t)n(t,i)&&(e=S(i),e&&(o[e]=t[i]));return o}function E(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}Ce[e]=function(o,r){var s,a,l=Ce._locale[e],u=[];if("number"==typeof o&&(r=o,o=t),a=function(t){var e=Ce().utc().set(i,t);return l.call(Ce._locale,e,o||"")},null!=r)return a(r);for(s=0;n>s;s++)u.push(a(s));return u}}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function M(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function $(t,e,n){return ue(Ce([t,11,31+e-n]),e,n).week}function O(t){return F(t)?366:365}function F(t){return t%4===0&&t%100!==0||t%400===0}function A(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Me]<0||t._a[Me]>11?Me:t._a[$e]<1||t._a[$e]>M(t._a[_e],t._a[Me])?$e:t._a[Oe]<0||t._a[Oe]>24||24===t._a[Oe]&&(0!==t._a[Fe]||0!==t._a[Ae]||0!==t._a[Ne])?Oe:t._a[Fe]<0||t._a[Fe]>59?Fe:t._a[Ae]<0||t._a[Ae]>59?Ae:t._a[Ne]<0||t._a[Ne]>999?Ne:-1,t._pf._overflowDayOfYear&&(_e>e||e>$e)&&(e=$e),t._pf.overflow=e)}function N(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function I(t){return t?t.toLowerCase().replace("_","-"):t}function R(t){for(var e,n,i,o,r=0;r<t.length;){for(o=I(t[r]).split("-"),e=o.length,n=I(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=H(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&T(o,n,!0)>=e-1)break;e--}r++}return null}function H(t){var e=null;if(!Ie[t]&&He)try{e=Ce.locale(),require("./locale/"+t),Ce.locale(e)}catch(n){}return Ie[t]}function L(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Ce.isMoment(t)||D(t)?+t:+Ce(t))-+n,n._d.setTime(+n._d+i),Ce.updateOffset(n,!1),n):Ce(t).local()}function P(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,i=t.match(ze);for(e=0,n=i.length;n>e;e++)i[e]=yn[i[e]]?yn[i[e]]:P(i[e]);return function(o){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}function z(t,e){return t.isValid()?(e=j(e,t.localeData()),pn[e]||(pn[e]=U(e)),pn[e](t)):t.localeData().invalidDate()}function j(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(je.lastIndex=0;i>=0&&je.test(t);)t=t.replace(je,n),je.lastIndex=0,i-=1;return t}function Y(t,e){var n,i=e._strict;switch(t){case"Q":return Je;case"DDDD":return en;case"YYYY":case"GGGG":case"gggg":return i?nn:We;case"Y":case"G":case"g":return rn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?on:qe;case"S":if(i)return Je;case"SS":if(i)return tn;case"SSS":if(i)return en;case"DDD":return Be;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ge;case"a":case"A":return e._locale._meridiemParse;case"x":return Qe;case"X":return Xe;case"Z":case"ZZ":return Ke;case"T":return Ze;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?tn:Ye;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ye;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(X(Q(t.replace("\\","")),"i"))}}function B(t){t=t||"";var e=t.match(Ke)||[],n=e[e.length-1]||[],i=(n+"").match(cn)||["-",0,0],o=+(60*i[1])+_(i[2]);return"+"===i[0]?o:-o}function W(t,e,n){var i,o=n._a;switch(t){case"Q":null!=e&&(o[Me]=3*(_(e)-1));break;case"M":case"MM":null!=e&&(o[Me]=_(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?o[Me]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(o[$e]=_(e));break;case"Do":null!=e&&(o[$e]=_(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=_(e));break;case"YY":o[_e]=Ce.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":o[_e]=_(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":o[Oe]=_(e);break;case"m":case"mm":o[Fe]=_(e);break;case"s":case"ss":o[Ae]=_(e);break;case"S":case"SS":case"SSS":case"SSSS":o[Ne]=_(1e3*("0."+e));break;case"x":n._d=new Date(_(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=B(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=_(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=Ce.parseTwoDigitYear(e)}}function q(t){var n,i,o,r,s,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=e(n.GG,t._a[_e],ue(Ce(),1,4).year),o=e(n.W,1),r=e(n.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[_e],ue(Ce(),s,a).year),o=e(n.w,1),null!=n.d?(r=n.d,s>r&&++o):r=null!=n.e?n.e+s:s),l=ce(i,o,r,a,s),t._a[_e]=l.year,t._dayOfYear=l.dayOfYear}function V(t){var n,i,o,r,s=[];if(!t._d){for(o=K(t),t._w&&null==t._a[$e]&&null==t._a[Me]&&q(t),t._dayOfYear&&(r=e(t._a[_e],o[_e]),t._dayOfYear>O(r)&&(t._pf._overflowDayOfYear=!0),i=re(r,0,t._dayOfYear),t._a[Me]=i.getUTCMonth(),t._a[$e]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=s[n]=o[n];for(;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Oe]&&0===t._a[Fe]&&0===t._a[Ae]&&0===t._a[Ne]&&(t._nextDay=!0,t._a[Oe]=0),t._d=(t._useUTC?re:oe).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Oe]=24)}}function G(t){var e;t._d||(e=k(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],V(t))}function K(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Z(e){if(e._f===Ce.ISO_8601)return void te(e);e._a=[],e._pf.empty=!0;var n,i,o,r,s,a=""+e._i,l=a.length,u=0;for(o=j(e._f,e._locale).match(ze)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(Y(r,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&e._pf.unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),yn[r]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(r),W(r,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-u,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Oe]<=12&&(e._pf.bigHour=t),e._a[Oe]=c(e._locale,e._a[Oe],e._meridiem),V(e),A(e)}function Q(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,o,r,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)s=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[r],Z(e),N(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==o||o>s)&&(o=s,n=e));p(t,n||e)}function te(t){var e,n,i=t._i,o=sn.exec(i);if(o){for(t._pf.iso=!0,e=0,n=ln.length;n>e;e++)if(ln[e][1].exec(i)){t._f=ln[e][0]+(o[6]||" ");break}for(e=0,n=un.length;n>e;e++)if(un[e][1].exec(i)){t._f+=un[e][0];break}i.match(Ke)&&(t._f+="Z"),Z(t)}else t._isValid=!1}function ee(t){te(t),t._isValid===!1&&(delete t._isValid,Ce.createFromInputFallback(t))}function ne(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function ie(e){var n,i=e._i;i===t?e._d=new Date:D(i)?e._d=new Date(+i):null!==(n=Le.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?ee(e):x(i)?(e._a=ne(i.slice(0),function(t){return parseInt(t,10)}),V(e)):"object"==typeof i?G(e):"number"==typeof i?e._d=new Date(i):Ce.createFromInputFallback(e)}function oe(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return 1970>t&&a.setFullYear(t),a}function re(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function se(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function ae(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function le(t,e,n){var i=Ce.duration(t).abs(),o=ke(i.as("s")),r=ke(i.as("m")),s=ke(i.as("h")),a=ke(i.as("d")),l=ke(i.as("M")),u=ke(i.as("y")),c=o<gn.s&&["s",o]||1===r&&["m"]||r<gn.m&&["mm",r]||1===s&&["h"]||s<gn.h&&["hh",s]||1===a&&["d"]||a<gn.d&&["dd",a]||1===l&&["M"]||l<gn.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,ae.apply({},c)}function ue(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=Ce(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ce(t,e,n,i,o){var r,s,a=re(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:o,r=o-a+(a>i?7:0)-(o>a?7:0),s=7*(e-1)+(n-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:O(t-1)+s}}function de(e){var n,i=e._i,o=e._f;return e._locale=e._locale||Ce.localeData(e._l),null===i||o===t&&""===i?Ce.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),Ce.isMoment(i)?new h(i,!0):(o?x(o)?J(e):Z(e):ie(e),n=new h(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function he(t,e){var n,i;if(1===e.length&&x(e[0])&&(e=e[0]),!e.length)return Ce();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function fe(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),M(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function pe(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ge(t,e,n){return"Month"===e?fe(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function me(t,e){return function(n){return null!=n?(ge(this,t,n),Ce.updateOffset(this,e),this):pe(this,t)}}function ve(t){return 400*t/146097}function ye(t){return 146097*t/400}function be(t){Ce.duration.fn[t]=function(){return this._data[t]}}function we(t){"undefined"==typeof ender&&(xe=Se.moment,Se.moment=t?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Ce):Ce)}for(var Ce,xe,De,Te="2.9.0",Se="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,ke=Math.round,Ee=Object.prototype.hasOwnProperty,_e=0,Me=1,$e=2,Oe=3,Fe=4,Ae=5,Ne=6,Ie={},Re=[],He="undefined"!=typeof module&&module&&module.exports,Le=/^\/?Date\((\-?\d+)/i,Pe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ue=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ze=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,je=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ye=/\d\d?/,Be=/\d{1,3}/,We=/\d{1,4}/,qe=/[+\-]?\d{1,6}/,Ve=/\d+/,Ge=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ke=/Z|[\+\-]\d\d:?\d\d/gi,Ze=/T/i,Qe=/[\+\-]?\d+/,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,tn=/\d\d/,en=/\d{3}/,nn=/\d{4}/,on=/[+-]?\d{6}/,rn=/[+-]?\d+/,sn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,an="YYYY-MM-DDTHH:mm:ssZ",ln=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],un=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],cn=/([\+\-]|\d\d)/gi,dn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),hn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},fn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pn={},gn={s:45,m:45,h:22,d:26,M:11},mn="DDD w W M D d".split(" "),vn="M D H h m s w W".split(" "),yn={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return v(_(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(_(t/60),2)+":"+v(_(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(_(t/60),2)+v(_(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bn={},wn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Cn=!1;mn.length;)De=mn.pop(),yn[De+"o"]=l(yn[De],De);for(;vn.length;)De=vn.pop(),yn[De+De]=a(yn[De],2);yn.DDDD=a(yn.DDD,3),p(d.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=Ce.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ce([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ue(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Ce=function(e,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._i=e,s._f=n,s._l=o,s._strict=r,s._isUTC=!1,s._pf=i(),de(s)},Ce.suppressDeprecationWarnings=!1,Ce.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Ce.min=function(){var t=[].slice.call(arguments,0);return he("isBefore",t)},Ce.max=function(){var t=[].slice.call(arguments,0);return he("isAfter",t)},Ce.utc=function(e,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=o,s._i=e,s._f=n,s._strict=r,s._pf=i(),de(s).utc()},Ce.unix=function(t){return Ce(1e3*t)},Ce.duration=function(t,e){var i,o,r,s,a=t,l=null;return Ce.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Pe.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:_(l[$e])*i,h:_(l[Oe])*i,m:_(l[Fe])*i,s:_(l[Ae])*i,ms:_(l[Ne])*i}):(l=Ue.exec(t))?(i="-"===l[1]?-1:1,r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=b(Ce(a.from),Ce(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),o=new f(a),Ce.isDuration(t)&&n(t,"_locale")&&(o._locale=t._locale),o},Ce.version=Te,Ce.defaultFormat=an,Ce.ISO_8601=function(){},Ce.momentProperties=Re,Ce.updateOffset=function(){},Ce.relativeTimeThreshold=function(e,n){return gn[e]===t?!1:n===t?gn[e]:(gn[e]=n,!0)},Ce.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return Ce.locale(t,e)}),Ce.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?Ce.defineLocale(t,e):Ce.localeData(t),n&&(Ce.duration._locale=Ce._locale=n)),Ce._locale._abbr},Ce.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ie[t]||(Ie[t]=new d),Ie[t].set(e),Ce.locale(t),Ie[t]):(delete Ie[t],null)},Ce.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(t){return Ce.localeData(t)}),Ce.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ce._locale;if(!x(t)){if(e=H(t))return e;t=[t]}return R(t)},Ce.isMoment=function(t){return t instanceof h||null!=t&&n(t,"_isAMomentObject")},Ce.isDuration=function(t){return t instanceof f};for(De=wn.length-1;De>=0;--De)E(wn[De]);Ce.normalizeUnits=function(t){return S(t)},Ce.invalid=function(t){var e=Ce.utc(0/0);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},Ce.parseZone=function(){return Ce.apply(null,arguments).parseZone()},Ce.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)},Ce.isDate=D,p(Ce.fn=h.prototype,{clone:function(){return Ce(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=Ce(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return N(this)},isDSTShifted:function(){return this._a?this.isValid()&&T(this._a,(this._isUTC?Ce.utc(this._a):Ce(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=z(this,t||Ce.defaultFormat);return this.localeData().postformat(e)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(t,e,n){var i,o,r=L(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=S(e),"year"===e||"month"===e||"quarter"===e?(o=u(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:m(o)},from:function(t,e){return Ce.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(Ce(),t)},calendar:function(t){var e=t||Ce(),n=L(e,this).startOf("day"),i=this.diff(n,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Ce(e)))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=se(t,this.localeData()),this.add(t-e,"d")):e},month:me("Month",!0),startOf:function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=S(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ce.isMoment(t)?t:Ce(t),+this>+t):(n=Ce.isMoment(t)?+t:+Ce(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ce.isMoment(t)?t:Ce(t),+t>+this):(n=Ce.isMoment(t)?+t:+Ce(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=S(e||"millisecond"),"millisecond"===e?(t=Ce.isMoment(t)?t:Ce(t),+this===+t):(n=+Ce(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ce.apply(null,arguments),this>t?this:t}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ce.apply(null,arguments),t>this?this:t}),zone:r("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=B(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?C(this,Ce.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ce.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(B(this._i)),this},hasAlignedHourOffset:function(t){return t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(t){var e=ke((Ce(this).startOf("day")-Ce(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ue(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ue(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ue(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return $(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return $(this.year(),t.dow,t.doy)},get:function(t){return t=S(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=S(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(n=Ce.localeData(e),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Ce.fn.millisecond=Ce.fn.milliseconds=me("Milliseconds",!1),Ce.fn.second=Ce.fn.seconds=me("Seconds",!1),Ce.fn.minute=Ce.fn.minutes=me("Minutes",!1),Ce.fn.hour=Ce.fn.hours=me("Hours",!0),Ce.fn.date=me("Date",!0),Ce.fn.dates=r("dates accessor is deprecated. Use date instead.",me("Date",!0)),Ce.fn.year=me("FullYear",!0),Ce.fn.years=r("years accessor is deprecated. Use year instead.",me("FullYear",!0)),Ce.fn.days=Ce.fn.day,Ce.fn.months=Ce.fn.month,Ce.fn.weeks=Ce.fn.week,Ce.fn.isoWeeks=Ce.fn.isoWeek,Ce.fn.quarters=Ce.fn.quarter,Ce.fn.toJSON=Ce.fn.toISOString,Ce.fn.isUTC=Ce.fn.isUtc,p(Ce.duration.fn=f.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;s.milliseconds=i%1e3,t=m(i/1e3),s.seconds=t%60,e=m(t/60),s.minutes=e%60,n=m(e/60),s.hours=n%24,o+=m(n/24),a=m(ve(o)),o-=m(ye(a)),r+=m(o/30),o%=30,a+=m(r/12),r%=12,s.days=o,s.months=r,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return m(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)
},humanize:function(t){var e=le(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=Ce.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=Ce.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=S(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=S(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*ve(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ye(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:Ce.fn.lang,locale:Ce.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Ce.duration.fn.toString=Ce.duration.fn.toISOString;for(De in dn)n(dn,De)&&be(De.toLowerCase());Ce.duration.fn.asMilliseconds=function(){return this.as("ms")},Ce.duration.fn.asSeconds=function(){return this.as("s")},Ce.duration.fn.asMinutes=function(){return this.as("m")},Ce.duration.fn.asHours=function(){return this.as("h")},Ce.duration.fn.asDays=function(){return this.as("d")},Ce.duration.fn.asWeeks=function(){return this.as("weeks")},Ce.duration.fn.asMonths=function(){return this.as("M")},Ce.duration.fn.asYears=function(){return this.as("y")},Ce.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),He?module.exports=Ce:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Se.moment=xe),Ce}),we(!0)):we()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(){var e,n,i,o,r,s=Array.prototype.slice.call(arguments),a={};for(e=0;Re.length>e;e++){for(n=Re[e],i=null,o=0;s.length>o;o++)r=s[o][n],t.isPlainObject(r)?i=t.extend(i||{},r):null!=r&&(i=null);null!==i&&(a[n]=i)}return s.unshift({}),s.push(a),t.extend.apply(t,s)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,o){"views"!=e&&(t.isPlainObject(o)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Re)?(n=null,t.each(o,function(t,o){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=o):(n||(n={}),n[t]=o)}),n&&(i[e]=n)):i[e]=o)}),i}function o(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var o=Math.floor(n/e.length),r=Math.floor(n-o*(e.length-1)),s=[],a=[],l=[],c=0;u(e),e.each(function(n,i){var u=n===e.length-1?r:o,d=t(i).outerHeight(!0);u>d?(s.push(i),a.push(d),l.push(t(i).height())):c+=d}),i&&(n-=c,o=Math.floor(n/s.length),r=Math.floor(n-o*(s.length-1))),t(s).each(function(e,n){var i=e===s.length-1?r:o,u=a[e],c=l[e],d=i-(u-c);i>u&&t(n).height(d)})}function u(t){t.height("")}function c(e){var n=0;return e.find("> *").each(function(e,i){var o=t(i).outerWidth();o>n&&(n=o)}),n++,e.width(n),n}function d(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function f(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function p(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function g(t){var e=t.offset(),n=v(t),i=e.left+w(t,"border-left-width")+n.left,o=e.top+w(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function m(t){var e=t.offset(),n=e.left+w(t,"border-left-width")+w(t,"padding-left"),i=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===He&&(He=b()),He}function b(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function w(t,e){return parseFloat(t.css(e))||0}function C(t){return 1==t.which&&!t.ctrlKey}function x(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function D(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function T(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function S(t,e){return{left:t.left-e.left,top:t.top-e.top}}function k(t,e){var n,i,o,r,s=t.start,a=t.end,l=e.start,u=e.end;return a>l&&u>s?(s>=l?(n=s.clone(),o=!0):(n=l.clone(),o=!1),u>=a?(i=a.clone(),r=!0):(i=u.clone(),r=!1),{start:n,end:i,isStart:o,isEnd:r}):void 0}function E(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function _(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function M(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function $(t,e){var n,i,o;for(n=0;je.length>n&&(i=je[n],o=O(i,t,e),!(o>=1&&V(o)));n++);return i}function O(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function F(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function A(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function N(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function I(t){var e=function(){};return e.prototype=t,new e}function R(t,e){for(var n in t)L(t,n)&&(e[n]=t[n])}function H(t,e){var n,i,o=["constructor","toString","valueOf"];for(n=0;o.length>n;n++)i=o[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function L(t,e){return Ye.call(t,e)}function P(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function U(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var o,r;for(o=0;e.length>o;o++)r=e[o].apply(n,i)||r;return r}}function z(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function j(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(t){return t.replace(/&.*?;/g,"")}function B(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function W(t){return t.charAt(0).toUpperCase()+t.slice(1)}function q(t,e){return t-e}function V(t){return 0===t%1}function G(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function K(t,e){var n,i,o,r,s=function(){var a=+new Date-r;e>a&&a>0?n=setTimeout(s,e-a):(n=null,t.apply(o,i),n||(o=i=null))};return function(){o=this,i=arguments,r=+new Date,n||(n=setTimeout(s,e))}}function Z(n,i,o){var r,s,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),X(u,l)):A(u)||void 0===u?l=e.apply(null,n):(r=!1,s=!1,c?Be.test(u)?(u+="-01",n=[u],r=!0,s=!0):(a=We.exec(u))&&(r=!a[5],s=!0):t.isArray(u)&&(s=!0),l=i||r?e.utc.apply(e,n):e.apply(null,n),r?(l._ambigTime=!0,l._ambigZone=!0):o&&(s?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))),l._fullCalendar=!0,l}function Q(t,n){var i,o,r=!1,s=!1,a=t.length,l=[];for(i=0;a>i;i++)o=t[i],e.isMoment(o)||(o=Ne.moment.parseZone(o)),r=r||o._ambigTime,s=s||o._ambigZone,l.push(o);for(i=0;a>i;i++)o=l[i],n||!r||o._ambigTime?s&&!o._ambigZone&&(l[i]=o.clone().stripZone()):l[i]=o.clone().stripTime();return l}function X(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function J(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function te(t,e){return Ve.format.call(t,e)}function ee(t,e){return ne(t,ae(e))}function ne(t,e){var n,i="";for(n=0;e.length>n;n++)i+=ie(t,e[n]);return i}function ie(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?Ge[n]?Ge[n](t):te(t,n):e.maybe&&(i=ne(t,e.maybe),i.match(/[1-9]/))?i:""}function oe(t,e,n,i,o){var r;return t=Ne.moment.parseZone(t),e=Ne.moment.parseZone(e),r=(t.localeData||t.lang).call(t),n=r.longDateFormat(n)||n,i=i||" - ",re(t,e,ae(n),i,o)}function re(t,e,n,i,o){var r,s,a,l,u="",c="",d="",h="",f="";for(s=0;n.length>s&&(r=se(t,e,n[s]),r!==!1);s++)u+=r;for(a=n.length-1;a>s&&(r=se(t,e,n[a]),r!==!1);a--)c=r+c;for(l=s;a>=l;l++)d+=ie(t,n[l]),h+=ie(e,n[l]);return(d||h)&&(f=o?h+i+d:d+i+h),u+f+c}function se(t,e,n){var i,o;return"string"==typeof n?n:(i=n.token)&&(o=Ke[i.charAt(0)],o&&t.isSame(e,o))?te(t,i):!1}function ae(t){return t in Ze?Ze[t]:Ze[t]=le(t)}function le(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:le(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function ue(){}function ce(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function de(t){var e=fe(t);return"background"===e||"inverse-background"===e}function he(t){return"inverse-background"===fe(t)}function fe(t){return z((t.source||{}).rendering,t.rendering)}function pe(t){var e,n,i={};for(e=0;t.length>e;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function ge(t,e){return t.eventStartMS-e.eventStartMS}function me(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function ve(n){var i,o,r,s,a=Ne.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},o=i.start,null==o&&(o=i.time),r=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==o&&(o=n.data(a+"start")),null==o&&(o=n.data(a+"time")),null==r&&(r=n.data(a+"duration")),null==s&&(s=n.data(a+"stick")),o=null!=o?e.duration(o):null,r=null!=r?e.duration(r):null,s=Boolean(s),{eventProps:i,startTime:o,duration:r,stick:s}}function ye(t,e){var n,i;for(n=0;e.length>n;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function be(t,e){return t.leftCol-e.leftCol}function we(t){var e,n,i;if(t.sort(me),e=Ce(t),xe(e),n=e[0]){for(i=0;n.length>i;i++)De(n[i]);for(i=0;n.length>i;i++)Te(n[i],0,0)}}function Ce(t){var e,n,i,o=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;o.length>i&&Se(n,o[i]).length;i++);n.level=i,(o[i]||(o[i]=[])).push(n)}return o}function xe(t){var e,n,i,o,r;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for(o=n[i],o.forwardSegs=[],r=e+1;t.length>r;r++)Se(o,t[r],o.forwardSegs)}function De(t){var e,n,i=t.forwardSegs,o=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)n=i[e],De(n),o=Math.max(o,1+n.forwardPressure);t.forwardPressure=o}}function Te(t,e,n){var i,o=t.forwardSegs;if(void 0===t.forwardCoord)for(o.length?(o.sort(Ee),Te(o[0],e+1,n),t.forwardCoord=o[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;o.length>i;i++)Te(o[i],0,t.forwardCoord)}function Se(t,e,n){n=n||[];for(var i=0;e.length>i;i++)ke(t,e[i])&&n.push(e[i]);return n}function ke(t,e){return t.bottom>e.top&&t.top<e.bottom}function Ee(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||me(t,e)}function _e(n,i){function o(){q?a()&&(c(),l()):r()}function r(){V=z.theme?"ui":"fc",n.addClass("fc"),n.addClass(z.isRTL?"fc-rtl":"fc-ltr"),n.addClass(z.theme?"ui-widget":"fc-unthemed"),q=t("<div class='fc-view-container'/>").prependTo(n),B=U.header=new Oe(U,z),W=B.render(),W&&n.prepend(W),l(z.defaultView),z.handleWindowResize&&(Q=K(h,z.windowResizeDelay),t(window).resize(Q))}function s(){G&&G.removeElement(),B.destroy(),q.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Q&&t(window).unbind("resize",Q)}function a(){return n.is(":visible")}function l(e){ie++,G&&e&&G.type!==e&&(B.deactivateButton(G.type),A(),G.removeElement(),G=U.view=null),!G&&e&&(G=U.view=ne[e]||(ne[e]=U.instantiateView(e)),G.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(q)),B.activateButton(e)),G&&(X=G.massageCurrentDate(X),G.isDisplayed&&X.isWithin(G.intervalStart,G.intervalEnd)||a()&&(A(),G.display(X),N(),w(),C(),m())),N(),ie--}function u(t){return a()?(t&&d(),ie++,G.updateSize(!0),ie--,!0):void 0}function c(){a()&&d()}function d(){Z="number"==typeof z.contentHeight?z.contentHeight:"number"==typeof z.height?z.height-(W?W.outerHeight(!0):0):Math.round(q.width()/Math.max(z.aspectRatio,.5))}function h(t){!ie&&t.target===window&&G.start&&u(!0)&&G.trigger("windowResize",ee)}function f(){g(),v()}function p(){a()&&(A(),G.displayEvents(oe),N())}function g(){A(),G.clearEvents(),N()}function m(){!z.lazyFetching||J(G.start,G.end)?v():p()}function v(){te(G.start,G.end)}function y(t){oe=t,p()}function b(){p()}function w(){B.updateTitle(G.title)}function C(){var t=U.getNow();t.isWithin(G.intervalStart,G.intervalEnd)?B.disableButton("today"):B.enableButton("today")}function x(t,e){t=U.moment(t),e=e?U.moment(e):t.clone().add(t.hasTime()?U.defaultTimedEventDuration:U.defaultAllDayEventDuration),G.select({start:t,end:e})}function D(){G&&G.unselect()}function T(){X=G.computePrevDate(X),l()}function S(){X=G.computeNextDate(X),l()}function k(){X.add(-1,"years"),l()}function E(){X.add(1,"years"),l()}function _(){X=U.getNow(),l()}function M(t){X=U.moment(t),l()}function $(t){X.add(e.duration(t)),l()}function O(t,e){var n;e=e||"day",n=U.getViewSpec(e)||U.getUnitViewSpec(e),X=t,l(n?n.type:null)}function F(){return X.clone()}function A(){q.css({width:"100%",height:q.height(),overflow:"hidden"})}function N(){q.css({width:"",height:"",overflow:""})}function R(){return U}function H(){return G}function L(t,e){return void 0===e?z[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(z[t]=e,u(!0)))}function P(t,e){return z[t]?z[t].apply(e||ee,Array.prototype.slice.call(arguments,2)):void 0}var U=this;U.initOptions(i||{});var z=this.options;U.render=o,U.destroy=s,U.refetchEvents=f,U.reportEvents=y,U.reportEventChange=b,U.rerenderEvents=p,U.changeView=l,U.select=x,U.unselect=D,U.prev=T,U.next=S,U.prevYear=k,U.nextYear=E,U.today=_,U.gotoDate=M,U.incrementDate=$,U.zoomTo=O,U.getDate=F,U.getCalendar=R,U.getView=H,U.option=L,U.trigger=P;var j=I($e(z.lang));if(z.monthNames&&(j._months=z.monthNames),z.monthNamesShort&&(j._monthsShort=z.monthNamesShort),z.dayNames&&(j._weekdays=z.dayNames),z.dayNamesShort&&(j._weekdaysShort=z.dayNamesShort),null!=z.firstDay){var Y=I(j._week);Y.dow=z.firstDay,j._week=Y}j._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(z.weekNumberCalculation),U.defaultAllDayEventDuration=e.duration(z.defaultAllDayEventDuration),U.defaultTimedEventDuration=e.duration(z.defaultTimedEventDuration),U.moment=function(){var t;return"local"===z.timezone?(t=Ne.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===z.timezone?Ne.moment.utc.apply(null,arguments):Ne.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=j:t._lang=j,t},U.getIsAmbigTimezone=function(){return"local"!==z.timezone&&"UTC"!==z.timezone},U.rezoneDate=function(t){return U.moment(t.toArray())},U.getNow=function(){var t=z.now;return"function"==typeof t&&(t=t()),U.moment(t)},U.getEventEnd=function(t){return t.end?t.end.clone():U.getDefaultEventEnd(t.allDay,t.start)},U.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(U.defaultAllDayEventDuration):n.add(U.defaultTimedEventDuration),U.getIsAmbigTimezone()&&n.stripZone(),n},U.humanizeDuration=function(t){return(t.locale||t.lang).call(t,z.lang).humanize()},Fe.call(U,z);var B,W,q,V,G,Z,Q,X,J=U.isFetchNeeded,te=U.fetchEvents,ee=n[0],ne={},ie=0,oe=[];X=null!=z.defaultDate?U.moment(z.defaultDate):U.getNow(),U.getSuggestedViewHeight=function(){return void 0===Z&&c(),Z},U.isHeightAuto=function(){return"auto"===z.contentHeight||"auto"===z.height}}function Me(e){t.each(fn,function(t,n){null==e[t]&&(e[t]=n(e))})}function $e(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Oe(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?p=t("<div class='fc-toolbar'/>").append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>'):void 0}function o(){p.remove()}function r(i){var o=t('<div class="fc-'+i+'"/>'),r=n.header[i];return r&&t.each(r.split(" "),function(){var i,r=t(),s=!0;t.each(this.split(","),function(i,o){var a,l,u,c,d,h,p,m,v;"title"==o?(r=r.add(t("<h2>&nbsp;</h2>")),s=!1):(a=e.getViewSpec(o),a?(l=function(){e.changeView(o)},g.push(o),u=a.buttonTextOverride,c=a.buttonTextDefault):e[o]&&(l=function(){e[o]()},u=(e.overrides.buttonText||{})[o],c=n.buttonText[o]),l&&(d=n.themeButtonIcons[o],h=n.buttonIcons[o],p=u?j(u):d&&n.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":j(c),m=["fc-"+o+"-button",f+"-button",f+"-state-default"],v=t('<button type="button" class="'+m.join(" ")+'">'+p+"</button>").click(function(){v.hasClass(f+"-state-disabled")||(l(),(v.hasClass(f+"-state-active")||v.hasClass(f+"-state-disabled"))&&v.removeClass(f+"-state-hover"))}).mousedown(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){v.removeClass(f+"-state-down")}).hover(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),r=r.add(v)))}),s&&r.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),r.length>1?(i=t("<div/>"),s&&i.addClass("fc-button-group"),i.append(r),o.append(i)):o.append(r)}),o}function s(t){p.find("h2").text(t)}function a(t){p.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){p.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function u(t){p.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function c(t){p.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function d(){return g}var h=this;h.render=i,h.destroy=o,h.updateTitle=s,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var f,p=t(),g=[]}function Fe(n){function i(t,e){return!B||t.clone().stripZone()<B.clone().stripZone()||e.clone().stripZone()>W.clone().stripZone()}function o(t,e){B=t,W=e,te=[];var n=++Q,i=Z.length;X=i;for(var o=0;i>o;o++)r(Z[o],n)}function r(e,n){s(e,function(i){var o,r,s,a=t.isArray(e.events);if(n==Q){if(i)for(o=0;i.length>o;o++)r=i[o],s=a?r:w(r,e),s&&te.push.apply(te,S(s));X--,X||G(te)}})}function s(e,i){var o,r,a=Ne.sourceFetchers;for(o=0;a.length>o;o++){if(r=a[o].call(Y,e,B.clone(),W.clone(),n.timezone,i),r===!0)return;if("object"==typeof r)return void s(r,i)}var l=e.events;if(l)t.isFunction(l)?(y(),l.call(Y,B.clone(),W.clone(),n.timezone,function(t){i(t),b()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var c,d=e.success,h=e.error,f=e.complete;c=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},c||{}),g=z(e.startParam,n.startParam),m=z(e.endParam,n.endParam),v=z(e.timezoneParam,n.timezoneParam);g&&(p[g]=B.format()),m&&(p[m]=W.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),y(),t.ajax(t.extend({},pn,e,{data:p,success:function(e){e=e||[];var n=U(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){U(h,this,arguments),i()},complete:function(){U(f,this,arguments),b()}}))}else i()}}function a(t){var e=l(t);e&&(Z.push(e),X++,r(e,Q))}function l(e){var n,i,o=Ne.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return w(t,n)})),i=0;o.length>i;i++)o[i].call(Y,n);return n}}function u(e){Z=t.grep(Z,function(t){return!c(t,e)}),te=t.grep(te,function(t){return!c(t.source,e)}),G(te)}function c(t,e){return t&&e&&d(t)==d(e)}function d(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=Y.moment(t.start),t.end=t.end?Y.moment(t.end):null,k(t,f(t)),G(te)}function f(e){var n={};return t.each(e,function(t,e){p(t)&&void 0!==e&&P(e)&&(n[t]=e)}),n}function p(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function g(t,e){var n,i,o,r=w(t);if(r){for(n=S(r),i=0;n.length>i;i++)o=n[i],o.source||(e&&(K.events.push(o),o.source=K),te.push(o));return G(te),n}return[]}function m(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),te=t.grep(te,e,!0),i=0;Z.length>i;i++)t.isArray(Z[i].events)&&(Z[i].events=t.grep(Z[i].events,e,!0));G(te)}function v(e){return t.isFunction(e)?t.grep(te,e):null!=e?(e+="",t.grep(te,function(t){return t._id==e})):te}function y(){J++||q("loading",null,!0,V())}function b(){--J||q("loading",null,!1,V())}function w(i,o){var r,s,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),o&&o.eventDataTransform&&(i=o.eventDataTransform(i)),t.extend(l,i),o&&(l.source=o),l._id=i._id||(void 0===i.id?"_fc"+gn++:i.id+""),l.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],r=i.start||i.date,s=i.end,N(r)&&(r=e.duration(r)),N(s)&&(s=e.duration(s)),i.dow||e.isDuration(r)||e.isDuration(s))l.start=r?e.duration(r):null,l.end=s?e.duration(s):null,l._recurring=!0;else{if(r&&(r=Y.moment(r),!r.isValid()))return!1;s&&(s=Y.moment(s),s.isValid()||(s=null)),a=i.allDay,void 0===a&&(a=z(o?o.allDayDefault:void 0,n.allDayDefault)),C(r,s,a,l)}return l}function C(t,e,n,i){i.start=t,i.end=e,i.allDay=n,x(i),Ae(i)}function x(t){D(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(t.end=n.forceEventDuration?Y.getDefaultEventEnd(t.allDay,t.start):null)}function D(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=Y.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=Y.rezoneDate(t.end)))}function T(e){var n;return e.end||(n=e.allDay,null==n&&(n=!e.start.hasTime()),e=t.extend({},e),e.end=Y.getDefaultEventEnd(n,e.start)),e}function S(e,n,i){var o,r,s,a,l,u,c,d,h,f=[];if(n=n||B,i=i||W,e)if(e._recurring){if(r=e.dow)for(o={},s=0;r.length>s;s++)o[r[s]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!o||o[a.day()])&&(l=e.start,u=e.end,c=a.clone(),d=null,l&&(c=c.time(l)),u&&(d=a.clone().time(u)),h=t.extend({},e),C(c,d,!l&&!u,h),f.push(h)),a.add(1,"days")}else f.push(e);return f}function k(e,n,i){function o(t,e){return i?M(t,e,i):n.allDay?_(t,e):E(t,e)}var r,s,a,l,u,c,d={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),x(n),r={start:e._start.clone(),end:e._end?e._end.clone():Y.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},x(r),s=null!==e._end&&null===n.end,a=o(n.start,r.start),n.end?(l=o(n.end,r.end),u=l.subtract(a)):u=null,t.each(n,function(t,e){p(t)&&void 0!==e&&(d[t]=e)}),c=$(v(e._id),s,n.allDay,a,u,d),{dateDelta:a,durationDelta:u,undo:c}}function $(e,n,i,o,r,s){var a=Y.getIsAmbigTimezone(),l=[];return o&&!o.valueOf()&&(o=null),r&&!r.valueOf()&&(r=null),t.each(e,function(e,u){var c,d;c={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},t.each(s,function(t){c[t]=u[t]}),d={start:u._start,end:u._end,allDay:i},x(d),n?d.end=null:r&&!d.end&&(d.end=Y.getDefaultEventEnd(d.allDay,d.start)),o&&(d.start.add(o),d.end&&d.end.add(o)),r&&d.end.add(r),a&&!d.allDay&&(o||r)&&(d.start.stripZone(),d.end&&d.end.stripZone()),t.extend(u,s,d),Ae(u),l.push(function(){t.extend(u,c),Ae(u)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}function O(e){var i,o=n.businessHours,r={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},s=Y.getView();return o&&(i=t.extend({},r,"object"==typeof o?o:{})),i?(e&&(i.start=null,i.end=null),S(w(i),s.start,s.end)):[]}function F(t,e){var i=e.source||{},o=z(e.constraint,i.constraint,n.eventConstraint),r=z(e.overlap,i.overlap,n.eventOverlap);return t=T(t),R(t,o,r,e)}function A(t){return R(t,n.selectConstraint,n.selectOverlap)}function I(e,n){var i,o;return n&&(i=t.extend({},n,e),o=S(w(i))[0]),o?F(e,o):(e=T(e),A(e))}function R(e,n,i,o){var r,s,a,l,u,c;if(e=t.extend({},e),e.start=e.start.clone().stripZone(),e.end=e.end.clone().stripZone(),null!=n){for(r=H(n),s=!1,l=0;r.length>l;l++)if(L(r[l],e)){s=!0;break}if(!s)return!1}for(a=Y.getPeerEvents(o,e),l=0;a.length>l;l++)if(u=a[l],j(u,e)){if(i===!1)return!1;if("function"==typeof i&&!i(u,o))return!1;if(o){if(c=z(u.overlap,(u.source||{}).overlap),c===!1)return!1;if("function"==typeof c&&!c(o,u))return!1}}return!0}function H(t){return"businessHours"===t?O():"object"==typeof t?S(w(t)):v(t)}function L(t,e){var n=t.start.clone().stripZone(),i=Y.getEventEnd(t).stripZone();return e.start>=n&&i>=e.end}function j(t,e){var n=t.start.clone().stripZone(),i=Y.getEventEnd(t).stripZone();return i>e.start&&e.end>n}var Y=this;Y.isFetchNeeded=i,Y.fetchEvents=o,Y.addEventSource=a,Y.removeEventSource=u,Y.updateEvent=h,Y.renderEvent=g,Y.removeEvents=m,Y.clientEvents=v,Y.mutateEvent=k,Y.normalizeEventRange=x,Y.normalizeEventRangeTimes=D,Y.ensureVisibleEventRange=T;var B,W,q=Y.trigger,V=Y.getView,G=Y.reportEvents,K={events:[]},Z=[K],Q=0,X=0,J=0,te=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&Z.push(n)}),Y.getBusinessHoursEvents=O,Y.isEventRangeAllowed=F,Y.isSelectionRangeAllowed=A,Y.isExternalDropRangeAllowed=I,Y.getEventCache=function(){return te}}function Ae(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Ne=t.fullCalendar={version:"2.3.0"},Ie=Ne.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(o,r){var s,a=t(r),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,n),o||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new Ne.CalendarBase(a,e),a.data("fullCalendar",l),l.render())}),i};var Re=["header","buttonText","buttonIcons","themeButtonIcons"];Ne.intersectionToSeg=k,Ne.applyAll=U,Ne.debounce=K,Ne.isInt=V,Ne.htmlEscape=j,Ne.cssToStr=B,Ne.proxy=G,Ne.getClientRect=g,Ne.getContentRect=m,Ne.getScrollbarWidths=v;var He=null;Ne.computeIntervalUnit=$,Ne.durationHasTime=F;var Le,Pe,Ue,ze=["sun","mon","tue","wed","thu","fri","sat"],je=["year","month","week","day","hour","minute","second","millisecond"],Ye={}.hasOwnProperty,Be=/^\s*\d{4}-\d\d$/,We=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,qe=e.fn,Ve=t.extend({},qe);Ne.moment=function(){return Z(arguments)},Ne.moment.utc=function(){var t=Z(arguments,!0);return t.hasTime()&&t.utc(),t},Ne.moment.parseZone=function(){return Z(arguments,!0,!0)},qe.clone=function(){var t=Ve.clone.apply(this,arguments);return X(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},qe.week=qe.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?Ve.isoWeek.apply(this,arguments):Ve.week.apply(this,arguments)},qe.time=function(t){if(!this._fullCalendar)return Ve.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},qe.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Pe(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},qe.hasTime=function(){return!this._ambigTime},qe.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Pe(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},qe.hasZone=function(){return!this._ambigZone},qe.local=function(){var t=this.toArray(),e=this._ambigZone;return Ve.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Ue(this,t),this},qe.utc=function(){return Ve.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){Ve[e]&&(qe[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Ve[e].apply(this,arguments)})}),qe.format=function(){return this._fullCalendar&&arguments[0]?ee(this,arguments[0]):this._ambigTime?te(this,"YYYY-MM-DD"):this._ambigZone?te(this,"YYYY-MM-DD[T]HH:mm:ss"):Ve.format.apply(this,arguments)},qe.toISOString=function(){return this._ambigTime?te(this,"YYYY-MM-DD"):this._ambigZone?te(this,"YYYY-MM-DD[T]HH:mm:ss"):Ve.toISOString.apply(this,arguments)},qe.isWithin=function(t,e){var n=Q([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},qe.isSame=function(t,e){var n;return this._fullCalendar?e?(n=Q([this,t],!0),Ve.isSame.call(n[0],n[1],e)):(t=Ne.moment.parseZone(t),Ve.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Ve.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){qe[e]=function(t,n){var i;return this._fullCalendar?(i=Q([this,t]),Ve[e].call(i[0],i[1],n)):Ve[e].apply(this,arguments)}}),Le="_d"in e()&&"updateOffset"in e,Pe=Le?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:J,Ue=Le?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:J;var Ge={t:function(t){return te(t,"a").charAt(0)},T:function(t){return te(t,"A").charAt(0)}};Ne.formatRange=oe;var Ke={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Ze={};Ne.Class=ue,ue.extend=function(t){var e,n=this;return t=t||{},L(t,"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=I(n.prototype),R(t,e.prototype),H(t,e.prototype),R(n,e),e},ue.mixin=function(t){R(t.prototype||t,this.prototype)};var Qe=ue.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()
}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=G(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,o,r,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=f(this.el);o=s.top||0,r=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),s.viewportConstrain!==!1&&(o=Math.min(o,e+d.outerHeight()-u-this.margin),o=Math.max(o,e+this.margin),r=Math.min(r,n+d.outerWidth()-l-this.margin),r=Math.max(r,n+this.margin)),this.el.css({top:o-a.top,left:r-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),Xe=ue.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(e,n){var i,o,r,s=this.rowCoords,a=s.length,l=this.colCoords,u=l.length,c=null,d=null;if(this.inBounds(e,n)){for(i=0;a>i;i++)if(o=s[i],n>=o.top&&o.bottom>n){c=i;break}for(i=0;u>i;i++)if(o=l[i],e>=o.left&&o.right>e){d=i;break}if(null!==c&&null!==d)return r=this.grid.getCell(c,d),r.grid=this.grid,t.extend(r,s[c],l[d]),r}return null},computeBounds:function(){this.bounds=this.containerEl?g(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return n?t>=n.left&&n.right>t&&e>=n.top&&n.bottom>e:!0}}),Je=ue.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,o=null;for(n=0;i.length>n&&!o;n++)o=i[n].getCell(t,e);return o},clear:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].clear()}}),tn=Ne.DragListener=ue.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){C(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&(n=f(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=K(G(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=G(this,"mousemove")).on("mouseup",this.mouseupProxy=G(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n,i=t.pageX-this.originX,o=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,n=i*i+o*o,n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,o,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?p(t):null},updateScroll:function(t){var e,n,i,o,r=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(r-(t.pageY-s.top))/r,n=(r-(s.bottom-t.pageY))/r,i=(r-(t.pageX-s.left))/r,o=(r-(s.right-t.pageX))/r,e>=0&&1>=e?a=-1*e*this.scrollSpeed:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:o>=0&&1>=o&&(l=o*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(G(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),en=tn.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){tn.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,o=this.subjectEl;tn.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(n={left:t.pageX,top:t.pageY},i=n,o&&(e=p(o),i=D(i,e)),this.origCell=this.getCell(i.left,i.top),o&&this.options.subjectCenter&&(this.origCell&&(e=x(this.origCell,e)||e),i=T(e)),this.coordAdjust=S(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;tn.prototype.dragStart.apply(this,arguments),e=this.getCell(t.pageX,t.pageY),e&&this.cellOver(e)},drag:function(t,e,n){var i;tn.prototype.drag.apply(this,arguments),i=this.getCell(n.pageX,n.pageY),ce(i,this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),tn.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,ce(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){tn.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){tn.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),nn=ue.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=G(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,o.destroyEl(),this.top0=this.left0=null,n&&n()}var o=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),on=ue.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i,o=this.getHtmlRenderer("cell",t),r="";for(e=e||0,n=0;this.colCnt>n;n++)i=this.getCell(e,n),r+=o(i);return r=this.bookendCells(r,t,e),"<tr>"+r+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),o=this.getHtmlRenderer("outro",e)(n||0),r=this.isRTL?o:i,s=this.isRTL?i:o;return"string"==typeof t?r+t+s:t.prepend(r).append(s)},getHtmlRenderer:function(t,e){var n,i,o,r,s=this.view;return n=t+"Html",e&&(i=e+W(t)+"Html"),i&&(r=s[i])?o=s:i&&(r=this[i])?o=this:(r=s[n])?o=s:(r=this[n])&&(o=this),"function"==typeof r?function(){return r.apply(o,arguments)||""}:function(){return r||""}}}),rn=Ne.Grid=on.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){on.apply(this,arguments),this.coordMap=new Xe(this),this.elsByFill={},this.externalDragStartProxy=G(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){var e,n,i=this.view;this.start=t.start.clone(),this.end=t.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),e=i.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),n=i.opt("displayEventEnd"),null==n&&(n=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(t,e){return this.largeUnit?M(t,e,this.largeUnit):E(t,e)},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(t){return this.rowData[t]||{}},getColData:function(t){return this.colData[t]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;this.rowCnt>t;t++)e=this.getRowEl(t),n=e.offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;this.colCnt>t;t++)e=this.getColEl(t),n=e.offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,o=this.view,r=o.opt("selectable"),l=new en(this.coordMap,{scroll:o.opt("dragScroll"),dragStart:function(){o.unselect()},cellOver:function(t,o,a){a&&(e=o?t:null,r&&(n=i.computeSelection(a,t),n?i.renderSelection(n):s()))},cellOut:function(){e=null,n=null,i.destroySelection(),a()},listenStop:function(t){e&&o.trigger("dayClick",i.getCellDayEl(e),e.start,t),n&&o.reportSelection(n,t),a()}});l.mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?I(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(q),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(t){this.renderFill("highlight",this.rangeToSegs(t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,o=this,r=this[e+"SegEl"],s="",a=[];if(n.length){for(i=0;n.length>i;i++)s+=this.fillSegHtml(e,n[i]);t(s).each(function(e,i){var s=n[e],l=t(i);r&&(l=r.call(o,s,l)),l&&(l=t(l),l.is(o.fillSegTag)&&(s.el=l,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],o=n?n.call(this,e):[],r=B(i?i.call(this,e):{});return"<"+this.fillSegTag+(o.length?' class="'+o.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+ze[n.day()]+'">'+j(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+ze[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):i.push(n>t?"fc-past":"fc-future"),i}});rn.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),o=[],r=[];for(e=0;i.length>e;e++)n=i[e],de(n.event)?o.push(n):r.push(n);o=this.renderBgSegs(o)||o,r=this.renderFgSegs(r)||r,this.segs=o.concat(r)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,o=this.view,r="",s=[];if(e.length){for(i=0;e.length>i;i++)r+=this.fgSegHtml(e[i],n);t(r).each(function(n,i){var r=e[n],a=o.resolveEventEl(r.event,t(i));a&&(a.data("fc-seg",r),r.el=a,s.push(r))})}return s},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,o){t(o.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,o,t(o.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,o)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var o=t(this).data("fc-seg");return!o||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,o,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,o=this.view,r=o.calendar,l=t.el,u=t.event,c=new nn(t.el,{parentEl:o.el,opacity:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),d=new en(o.coordMap,{distance:5,scroll:o.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){c.hide(),c.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),o.hideEvent(u)},cellOver:function(e,a,l){t.cell&&(l=t.cell),n=i.computeEventDrop(l,e,u),n&&!r.isEventRangeAllowed(n,u)&&(s(),n=null),n&&o.renderDrag(n,t)?c.hide():c.show(),a&&(n=null)},cellOut:function(){o.destroyDrag(),c.show(),n=null},cellDone:function(){a()},dragStop:function(e){c.stop(!n,function(){o.destroyDrag(),o.showEvent(u),i.segDragStop(t,e),n&&o.reportEventDrop(u,n,this.largeUnit,l,e)})},listenStop:function(){c.stop()}});d.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,o,r=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&F(i)?(o={start:n.start.clone(),end:r.getEventEnd(n),allDay:!1},r.normalizeEventRangeTimes(o)):o={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},o.start.add(i),o.end&&o.end.add(i)):o={start:a.clone(),end:null,allDay:!a.hasTime()},o},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,o,r=this.view;r.opt("droppable")&&(i=t((n?n.item:null)||e.target),o=r.opt("dropAccept"),(t.isFunction(o)?o.call(i[0],i):i.is(o))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,o,r=this,l=ve(t);i=new en(this.coordMap,{listenStart:function(){r.isDraggingExternal=!0},cellOver:function(t){o=r.computeExternalDrop(t,l),o?r.renderDrag(o):s()},cellOut:function(){o=null,r.destroyDrag(),a()},dragStop:function(){r.destroyDrag(),a(),o&&r.view.reportExternalDrop(l,o,t,e,n)},listenStop:function(){r.isDraggingExternal=!1}}),i.startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(t,e,n){var i,o,r=this,l=this.view,u=l.calendar,c=t.el,d=t.event,h=u.getEventEnd(d);i=new en(this.coordMap,{distance:5,scroll:l.opt("dragScroll"),subjectEl:c,dragStart:function(e){r.triggerSegMouseout(t,e),r.segResizeStart(t,e)},cellOver:function(e,i,a){o=n?r.computeEventStartResize(a,e,d):r.computeEventEndResize(a,e,d),o&&(u.isEventRangeAllowed(o,d)?o.start.isSame(d.start)&&o.end.isSame(h)&&(o=null):(s(),o=null)),o&&(l.hideEvent(d),r.renderEventResize(o,t))},cellOut:function(){o=null},cellDone:function(){r.destroyEventResize(),l.showEvent(d),a()},dragStop:function(e){r.segResizeStop(t,e),o&&l.reportEventResize(d,o,this.largeUnit,c,e)}}),i.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var o,r,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return o={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay},o.allDay&&F(a)&&(o.allDay=!1,s.normalizeEventRangeTimes(o)),o[t].add(a),o.start.isBefore(o.end)||(r=i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&r>this.cellDuration&&(r=this.cellDuration),"start"==t?o.start=o.end.clone().subtract(r):o.end=o.start.clone().add(r)),o},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,o=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&o.push("fc-draggable"),n&&o.push("fc-resizable"),o},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,o=n.color,r=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||o||e.opt("eventBackgroundColor")||r,"border-color":t.borderColor||i||n.borderColor||o||e.opt("eventBorderColor")||r,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),o=[];for(n=0;i.length>n;n++)o.push.apply(o,this.eventRangeToSegs(i[n],e));return o},eventsToRanges:function(e){var n=this,i=pe(e),o=[];return t.each(i,function(t,e){e.length&&o.push.apply(o,he(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),o},eventsToNormalRanges:function(t){var e,n,i,o,r=this.view.calendar,s=[];for(e=0;t.length>e;e++)n=t[e],i=n.start.clone().stripZone(),o=r.getEventEnd(n).stripZone(),s.push({event:n,start:i,end:o,eventStartMS:+i,eventDurationMS:o-i});return s},eventsToInverseRanges:function(t){var e,n,i=this.view,o=i.start.clone().stripZone(),r=i.end.clone().stripZone(),s=this.eventsToNormalRanges(t),a=[],l=t[0],u=o;for(s.sort(ge),e=0;s.length>e;e++)n=s[e],n.start>u&&a.push({event:l,start:u,end:n.start}),u=n.end;return r>u&&a.push({event:l,start:u,end:r}),a},eventRangeToSegs:function(t,e){var n,i,o;for(n=e?e(t):this.rangeToSegs(t),i=0;n.length>i;i++)o=n[i],o.event=t.event,o.eventStartMS=t.eventStartMS,o.eventDurationMS=t.eventDurationMS;return n}}),Ne.compareSegs=me,Ne.dataAttrPrefix="";var sn=rn.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){rn.apply(this,arguments),this.cellDuration=e.duration(1,"day")},renderDates:function(t){var e,n,i,o=this.view,r=this.rowCnt,s=this.colCnt,a=r*s,l="";for(e=0;r>e;e++)l+=this.dayRowHtml(e,t);for(this.el.html(l),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;a>n;n++)i=this.getCell(n),o.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;t.length>i&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,o=[];e.isBefore(this.end);)t.isHiddenDay(e)?o.push(i+.5):(i++,o.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=o},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=rn.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,o,r,s,a,l,u,c,d=this.isRTL,h=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;h>i;i++)o=i*f,r=o+f-1,l=Math.max(o,e),u=Math.min(r,n),l=Math.ceil(l),u=Math.floor(u),u>=l&&(s=l===e,a=u===n,l-=o,u-=o,c={row:i,isStart:s,isEnd:a},d?(c.leftCol=f-u-1,c.rightCol=f-l-1):(c.leftCol=l,c.rightCol=u),p.push(c));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(t,e){this.renderHighlight(t),this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,o=[],r=this.eventsToSegs([e]);r=this.renderFgSegEls(r),i=this.renderSegRows(r),this.rowEls.each(function(e,r){var s,a=t(r),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),o.push(l[0])}),this.helperEls=t(o)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var o,r,s,a=[];for(n=this.renderFillSegEls(e,n),o=0;n.length>o;o++)r=n[o],s=this.renderFillRow(e,r,i),this.rowEls.eq(r.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var o,r,s=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),o=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),r=o.find("tr"),a>0&&r.append('<td colspan="'+a+'"/>'),r.append(n.el.attr("colspan",l-a)),s>l&&r.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(r,e),o}});sn.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),rn.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return rn.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return rn.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,o=this.view,r=t.event,s=o.isEventDraggable(r),a=!e&&r.allDay&&t.isStart&&o.isEventResizableFromStart(r),l=!e&&r.allDay&&t.isEnd&&o.isEventResizableFromEnd(r),u=this.getSegClasses(t,s,a||l),c=B(this.getEventSkinCss(r)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(r),n&&(d='<span class="fc-time">'+j(n)+"</span>")),i='<span class="fc-title">'+(j(r.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(r.url?' href="'+j(r.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>s;)c=(v[o-1]||[])[s],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),m[o][s]=c,v[o][s]=c,s++}var o,r,s,a,l,u,c,d=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=t("<tbody/>"),g=[],m=[],v=[];for(o=0;f>o;o++){if(r=h[o],s=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),r)for(l=0;r.length>l;l++){for(u=r[l],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[o][s]=c;u.rightCol>=s;)m[o][s]=c,g[o][s]=u,s++;a.append(c)}i(d),this.bookendCells(a,"eventSkeleton"),p.append(a)}return{row:e,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,o=[];for(t.sort(me),e=0;t.length>e;e++){for(n=t[e],i=0;o.length>i&&ye(n,o[i]);i++);n.level=i,(o[i]||(o[i]=[])).push(n)}for(i=0;o.length>i;i++)o[i].sort(be);return o},groupSegRows:function(t){var e,n=[];for(e=0;this.rowCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].row].push(t[e]);return n}}),sn.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){r=Math.max(r,t(n).outerHeight())}var i,o,r,s=this.rowEls.eq(e),a=s.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;l.length>i;i++)if(o=l.eq(i).removeClass("fc-limited"),r=0,o.find("> td > :first-child").each(n),o.position().top+r>a)return i;return!1},limitRow:function(e,n){function i(i){for(;i>D;)o=w.getCell(e,D),c=w.getCellSegs(o,n),c.length&&(f=s[n-1][D],b=w.renderMoreLink(o,c),y=t("<div/>").append(b),f.append(y),x.push(y[0])),D++}var o,r,s,a,l,u,c,d,h,f,p,g,m,v,y,b,w=this,C=this.rowStructs[e],x=[],D=0;if(n&&C.segLevels.length>n){for(r=C.segLevels[n-1],s=C.cellMatrix,a=C.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;r.length>l;l++){for(u=r[l],i(u.leftCol),h=[],d=0;u.rightCol>=D;)o=this.getCell(e,D),c=this.getCellSegs(o,n),h.push(c),d+=c.length,D++;
if(d){for(f=s[n-1][u.leftCol],p=f.attr("rowspan")||1,g=[],m=0;h.length>m;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),c=h[m],o=this.getCell(e,u.leftCol+m),b=this.renderMoreLink(o,[u].concat(c)),y=t("<div/>").append(b),v.append(y),g.push(v[0]),x.push(v[0]);f.addClass("fc-limited").after(t(g)),a.push(f[0])}}i(this.colCnt),C.moreEls=t(x),C.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(r){var s=o.opt("eventLimitClick"),a=e.start,l=t(this),u=i.getCellDayEl(e),c=i.getCellSegs(e),d=i.resliceDaySegs(c,a),h=i.resliceDaySegs(n,a);"function"==typeof s&&(s=o.trigger("eventLimitClick",null,{date:a,dayEl:u,moreEl:l,segs:d,hiddenSegs:h},r)),"popover"===s?i.showSegPopover(e,l,d):"string"==typeof s&&o.calendar.zoomTo(a,s)})},showSegPopover:function(t,e,n){var i,o,r=this,s=this.view,a=e.parent();i=1==this.rowCnt?s.el:this.rowEls.eq(t.row),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){r.segPopover.destroy(),r.segPopover=null,r.popoverSegs=null}},this.isRTL?o.right=a.offset().left+a.outerWidth()+1:o.left=a.offset().left-1,this.segPopover=new Qe(o),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,o=this.view,r=o.opt("theme"),s=e.start.format(o.opt("dayPopoverFormat")),a=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(r?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+j(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cell=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),o=n.clone().stripTime(),r=o.clone().add(1,"days"),s={start:o,end:r};return e=this.eventsToSegs(i,function(t){var e=k(t,s);return e?[e]:[]}),e.sort(me),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,o=e||0,r=[];i.length>o;)n=i[o][t.col],n&&r.push(n),o++;return r}});var an=rn.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){rn.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,o=this.view,r=this.isRTL,s="",a=0===this.slotDuration.asMinutes()%15,l=e.duration(+this.minTime);this.maxTime>l;)t=this.start.clone().time(l),n=t.minutes(),i='<td class="fc-axis fc-time '+o.widgetContentClass+'" '+o.axisStyleAttr()+">"+(a&&n?"":"<span>"+j(t.format(this.axisFormat))+"</span>")+"</td>",s+="<tr "+(n?'class="fc-minor"':"")+">"+(r?"":i)+'<td class="'+o.widgetContentClass+'"/>'+(r?i:"")+"</tr>",l.add(this.slotDuration);return s},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime")),this.axisFormat=t.opt("axisFormat")||t.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push({day:t.clone()}),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.computeSnapTime(t.row);return this.view.calendar.rezoneDate(t.day).time(e)},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,o,r=this.colCnt,s=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;r>n;n++)i=this.colData[n].day,o={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=k(t,o),e&&(e.col=n,s.push(e));return s},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;this.rowCnt>t;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,o,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(this.slatEls.length,r),e=Math.floor(r),n=r-e,i=this.slatTops[e],n?(o=this.slatTops[e+1],i+(o-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,o){e=t(o).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,o,r,s,a=this.eventsToSegs([e]);for(a=this.renderFgSegEls(a),i=this.renderSegTable(a),o=0;a.length>o;o++)r=a[o],n&&n.col===r.col&&(s=n.el,r.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(t)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var o,r,s,a,l,u,c,d,h,f;if(n.length){for(n=this.renderFillSegEls(e,n),o=this.groupSegCols(n),i=i||e.toLowerCase(),r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),s=r.find("tr"),a=0;o.length>a;a++)if(l=o[a],u=t("<td/>").appendTo(s),l.length)for(c=t('<div class="fc-'+i+'-container"/>').appendTo(u),d=this.colData[a].day,h=0;l.length>h;h++)f=l[h],c.append(f.el.css({top:this.computeDateTop(f.start,d),bottom:-this.computeDateTop(f.end,d)}));this.bookendCells(s,e),this.el.append(r),this.elsByFill[e]=r}return n}});an.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,o,r,s,a,l=t("<table><tr/></table>"),u=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),r=0;n.length>r;r++){for(s=n[r],we(s),a=t('<div class="fc-event-container"/>'),i=0;s.length>i;i++)o=s[i],o.el.css(this.generateSegPositionCss(o)),30>o.bottom-o.top&&o.el.addClass("fc-short"),a.append(o.el);u.append(t("<td/>").append(a))}return this.bookendCells(u,"eventSkeleton"),l},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,o,r=this.view,s=t.event,a=r.isEventDraggable(s),l=!e&&t.isStart&&r.isEventResizableFromStart(s),u=!e&&t.isEnd&&r.isEventResizableFromEnd(s),c=this.getSegClasses(t,a,l||u),d=B(this.getEventSkinCss(s));return c.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),o=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),o=this.getEventTimeText(s,null,!1)),'<a class="'+c.join(" ")+'"'+(s.url?' href="'+j(s.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+j(o)+'" data-full="'+j(i)+'"><span>'+j(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+j(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),o=t.backwardCoord,r=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(r=Math.min(1,o+2*(r-o))),this.isRTL?(e=1-r,n=o):(e=o,n=1-r),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;this.colCnt>e;e++)n.push([]);for(e=0;t.length>e;e++)n[t[e].col].push(t[e]);return n}});var ln=Ne.View=ue.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,n,i,o){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=o||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=G(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=$(this.intervalDuration),o=t.clone().startOf(i),r=o.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(o.stripTime(),r.stripTime()):(o.hasTime()||(o=this.calendar.rezoneDate(o)),r.hasTime()||(r=this.calendar.rezoneDate(r))),e=o.clone(),e=this.skipHiddenDays(e),n=r.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:o,intervalEnd:r,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),oe(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var e=null;this.isDisplayed&&(e=this.queryScroll()),this.clear(),this.setDate(t),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,e=this.computeInitialScroll(e),this.forceScroll(e),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(),this.updateWidth(),t&&this.setScroll(e)},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return z(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,o){var r=this.calendar,s=r.mutateEvent(t,e,n),a=function(){s.undo(),r.reportEventChange()};this.triggerEventDrop(t,s.dateDelta,a,i,o),r.reportEventChange()},triggerEventDrop:function(t,e,n,i,o){this.trigger("eventDrop",i[0],t,e,n,o,{})},reportExternalDrop:function(e,n,i,o,r){var s,a,l=e.eventProps;l&&(s=t.extend({},l,n),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,n,i,o,r)},triggerExternalDrop:function(t,e,n,i,o){this.trigger("drop",n[0],e.start,i,o),t&&this.trigger("eventReceive",null,t)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return z(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,o){var r=this.calendar,s=r.mutateEvent(t,e,n),a=function(){s.undo(),r.reportEventChange()};this.triggerEventResize(t,s.durationDelta,a,i,o),r.reportEventChange()},triggerEventResize:function(t,e,n,i,o){this.trigger("eventResize",i[0],t,e,n,o,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(){},reportSelection:function(t,e){this.isSelected=!0,this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&C(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],o=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||o++;if(!o)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,o=null;return i&&(o=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&o.add(1,"days")),(!i||n>=o)&&(o=n.clone().add(1,"days")),{start:n,end:o}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),un=Ne.Calendar=Ne.CalendarBase=ue.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:_e,initOptions:function(t){var e,o,r,s;t=i(t),e=t.lang,o=cn[e],o||(e=un.defaults.lang,o=cn[e]||{}),r=z(t.isRTL,o.isRTL,un.defaults.isRTL),s=r?un.rtlDefaults:{},this.dirDefaults=s,this.langDefaults=o,this.overrides=t,this.options=n(un.defaults,s,o,t),Me(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,o;if(-1!=t.inArray(e,je))for(n=this.header.getViewsWithButtons(),t.each(Ne.views,function(t){n.push(t)}),i=0;n.length>i;i++)if(o=this.getViewSpec(n[i]),o&&o.singleUnit==e)return o},buildViewSpec:function(t){for(var i,o,r,s,a,l,u=this.overrides.views||{},c=[],d=[],h=t;h&&!i;)o=Ie[h]||{},r=u[h]||{},s=s||r.duration||o.duration,h=r.type||o.type,"function"==typeof o?(i=o,c.unshift(i.defaults||{})):c.unshift(o),d.unshift(r);return i?(l={"class":i,type:t},s&&(s=e.duration(s),s.valueOf()||(s=null)),s&&(l.duration=s,a=$(s),1===s.as(a)&&(l.singleUnit=a,d.unshift(u[a]||{}))),l.defaults=n.apply(null,c),l.overrides=n.apply(null,d),this.buildViewSpecOptions(l),this.buildViewSpecButtonText(l,t),l):void 0},buildViewSpecOptions:function(t){t.options=n(un.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides),Me(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(un.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))}});un.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},un.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},un.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var cn=Ne.langs={};Ne.datepickerLang=function(e,n,i){var o=cn[e]||(cn[e]={});o.isRTL=i.isRTL,o.weekNumberTitle=i.weekHeader,t.each(dn,function(t,e){o[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Ne.lang=function(e,i){var o,r;o=cn[e]||(cn[e]={}),i&&(o=cn[e]=n(o,i)),r=$e(e),t.each(hn,function(t,e){null==o[t]&&(o[t]=e(r,o))}),un.defaults.lang=e};var dn={buttonText:function(t){return{prev:Y(t.prevText),next:Y(t.nextText),today:Y(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},hn={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},fn={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Ne.lang("en",un.englishDefaults),Ne.sourceNormalizers=[],Ne.sourceFetchers=[];var pn={dataType:"json",cache:!1},gn=1;un.prototype.getPeerEvents=function(t){var e,n,i=this.getEventCache(),o=[];for(e=0;i.length>e;e++)n=i[e],t&&t._id===n._id||o.push(n);return o};var mn=Ie.basic=ln.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new sn(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){ln.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=ln.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+j(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?(e=this.dayGrid.getDayClasses(n),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=c(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");h(this.scrollerEl),r(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&d(this.scrollerEl,n)&&(o(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?u(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},destroySelection:function(){this.dayGrid.destroySelection()}}),vn=Ie.month=mn.extend({computeRange:function(t){var e,n=mn.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});vn.duration={months:1},vn.defaults={fixedWeekCount:!0},Ie.basicWeek={type:"basic",duration:{weeks:1}},Ie.basicDay={type:"basic",duration:{days:1}};var yn={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},bn=5,wn=Ie.agenda=ln.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new an(this),this.opt("allDaySlot")?(this.dayGrid=new sn(this),this.coordMap=new Je([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){ln.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start,e=t.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+j(e)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||j(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),ln.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=c(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),r(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=bn),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),d(this.scrollerEl,i)?(o(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},renderEvents:function(t){var e,n,i=[],o=[],r=[];for(n=0;t.length>n;n++)t[n].allDay?i.push(t[n]):o.push(t[n]);e=this.timeGrid.renderEvents(o),this.dayGrid&&(r=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0
},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}});wn.defaults=yn,Ie.agendaWeek={type:"agenda",duration:{weeks:1}},Ie.agendaDay={type:"agenda",duration:{days:1}}});var Metronic=function(){var t,e=!1,n=!1,i=!1,o=!1,r=[],s="../../assets/",a="global/img/",l="global/plugins/",u="global/css/",c={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00"},d=function(){"rtl"===$("body").css("direction")&&(e=!0),n=!!navigator.userAgent.match(/MSIE 8.0/),i=!!navigator.userAgent.match(/MSIE 9.0/),o=!!navigator.userAgent.match(/MSIE 10.0/),o&&$("html").addClass("ie10"),(o||i||n)&&$("html").addClass("ie")},h=function(){for(var t=0;t<r.length;t++){var e=r[t];e.call()}},f=function(){var t;if(n){var e;$(window).resize(function(){e!=document.documentElement.clientHeight&&(t&&clearTimeout(t),t=setTimeout(function(){h()},50),e=document.documentElement.clientHeight)})}else $(window).resize(function(){t&&clearTimeout(t),t=setTimeout(function(){h()},50)})},p=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(t){t.preventDefault();var e=$(this).closest(".portlet");$("body").hasClass("page-portlet-fullscreen")&&$("body").removeClass("page-portlet-fullscreen"),e.find(".portlet-title .fullscreen").tooltip("destroy"),e.find(".portlet-title > .tools > .reload").tooltip("destroy"),e.find(".portlet-title > .tools > .remove").tooltip("destroy"),e.find(".portlet-title > .tools > .config").tooltip("destroy"),e.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy"),e.remove()}),$("body").on("click",".portlet > .portlet-title .fullscreen",function(t){t.preventDefault();var e=$(this).closest(".portlet");if(e.hasClass("portlet-fullscreen"))$(this).removeClass("on"),e.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),e.children(".portlet-body").css("height","auto");else{var n=Metronic.getViewPort().height-e.children(".portlet-title").outerHeight()-parseInt(e.children(".portlet-body").css("padding-top"))-parseInt(e.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),e.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),e.children(".portlet-body").css("height",n)}}),$("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(t){t.preventDefault();var e=$(this).closest(".portlet").children(".portlet-body"),n=$(this).attr("data-url"),i=$(this).attr("data-error-display");n?(Metronic.blockUI({target:e,animate:!0,overlayColor:"none"}),$.ajax({type:"GET",cache:!1,url:n,dataType:"html",success:function(t){Metronic.unblockUI(e),e.html(t)},error:function(){Metronic.unblockUI(e);var t="Error on reloading the content. Please check your connection and try again.";"toastr"==i&&toastr?toastr.error(t):"notific8"==i&&$.notific8?($.notific8("zindex",11500),$.notific8(t,{theme:"ruby",life:3e3})):alert(t)}})):(Metronic.blockUI({target:e,animate:!0,overlayColor:"none"}),window.setTimeout(function(){Metronic.unblockUI(e)},1e3))}),$('.portlet .portlet-title a.reload[data-load="true"]').click(),$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(t){t.preventDefault();var e=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),e.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),e.slideDown(200))})},g=function(){if($().uniform){var t=$("input[type=checkbox]:not(.toggle, .make-switch, .icheck), input[type=radio]:not(.toggle, .star, .make-switch, .icheck)");t.size()>0&&t.each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})}},m=function(){$().iCheck&&$(".icheck").each(function(){var t=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey",e=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";$(this).iCheck(t.indexOf("_line")>-1||e.indexOf("_line")>-1?{checkboxClass:t,radioClass:e,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")}:{checkboxClass:t,radioClass:e})})},v=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},y=function(){$().confirmation&&$("[data-toggle=confirmation]").confirmation({container:"body",btnOkClass:"btn-xs btn-success",btnCancelClass:"btn-xs btn-danger"})},b=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(t){Metronic.scrollTo($(t.target))})},w=function(){if(location.hash){var t=location.hash.substr(1);$('a[href="#'+t+'"]').parents(".tab-pane:hidden").each(function(){var t=$(this).attr("id");$('a[href="#'+t+'"]').click()}),$('a[href="#'+t+'"]').click()}},C=function(){$("body").on("hide.bs.modal",function(){$(".modal:visible").size()>1&&$("html").hasClass("modal-open")===!1?$("html").addClass("modal-open"):$(".modal:visible").size()<=1&&$("html").removeClass("modal-open")}),$("body").on("show.bs.modal",".modal",function(){$(this).hasClass("modal-scroll")&&$("body").addClass("modal-open-noscroll")}),$("body").on("hide.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")}),$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})},x=function(){$(".tooltips").tooltip(),$(".portlet > .portlet-title .fullscreen").tooltip({container:"body",title:"Fullscreen"}),$(".portlet > .portlet-title > .tools > .reload").tooltip({container:"body",title:"Reload"}),$(".portlet > .portlet-title > .tools > .remove").tooltip({container:"body",title:"Remove"}),$(".portlet > .portlet-title > .tools > .config").tooltip({container:"body",title:"Settings"}),$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:"body",title:"Collapse/Expand"})},D=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(t){t.stopPropagation()})},T=function(){$("body").on("click",'[data-close="alert"]',function(t){$(this).parent(".alert").hide(),$(this).closest(".note").hide(),t.preventDefault()}),$("body").on("click",'[data-close="note"]',function(t){$(this).closest(".note").hide(),t.preventDefault()}),$("body").on("click",'[data-remove="note"]',function(t){$(this).closest(".note").remove(),t.preventDefault()})},S=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")})},k=function(){$(".popovers").popover(),$(document).on("click.bs.popover.data-api",function(){t&&t.popover("hide")})},E=function(){Metronic.initSlimScroll(".scroller")},_=function(){jQuery.fancybox&&$(".fancybox-button").size()>0&&$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},M=function(){(n||i)&&$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var t=$(this);""===t.val()&&""!==t.attr("placeholder")&&t.addClass("placeholder").val(t.attr("placeholder")),t.focus(function(){t.val()==t.attr("placeholder")&&t.val("")}),t.blur(function(){(""===t.val()||t.val()==t.attr("placeholder"))&&t.val(t.attr("placeholder"))})})},O=function(){$().select2&&$(".select2me").select2({placeholder:"Select",allowClear:!0})};return{init:function(){d(),f(),g(),m(),v(),E(),_(),O(),p(),T(),D(),w(),x(),k(),b(),C(),y(),M()},initAjax:function(){g(),m(),v(),S(),E(),O(),_(),D(),x(),k(),b(),y()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(e){t=e},addResizeHandler:function(t){r.push(t)},runResizeHandlers:function(){h()},scrollTo:function(t,e){var n=t&&t.size()>0?t.offset().top:0;t&&($("body").hasClass("page-header-fixed")&&(n-=$(".page-header").height()),n+=e?e:-1*t.height()),$("html,body").animate({scrollTop:n},"slow")},initSlimScroll:function(t){$(t).each(function(){if(!$(this).attr("data-initialized")){var t;t=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:e?"left":"right",height:t,alwaysVisible:"1"==$(this).attr("data-always-visible")?!0:!1,railVisible:"1"==$(this).attr("data-rail-visible")?!0:!1,disableFadeOut:!0}),$(this).attr("data-initialized","1")}})},destroySlimScroll:function(t){$(t).each(function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var t={};$(this).attr("data-handle-color")&&(t["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(t["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(t["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(t["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(t["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var e=$(this);$.each(t,function(t,n){e.attr(t,n)})}})},scrollTop:function(){Metronic.scrollTo()},blockUI:function(t){t=$.extend(!0,{},t);var e="";if(e=t.animate?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':t.iconOnly?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>':t.textOnly?'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(t.message?t.message:"LOADING...")+"</span></div>":'<div class="loading-message '+(t.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(t.message?t.message:"LOADING...")+"</span></div>",t.target){var n=$(t.target);n.height()<=$(window).height()&&(t.cenrerY=!0),n.block({message:e,baseZ:t.zIndex?t.zIndex:1e3,centerY:void 0!==t.cenrerY?t.cenrerY:!1,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:t.overlayColor?t.overlayColor:"#555",opacity:t.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:e,baseZ:t.zIndex?t.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:t.overlayColor?t.overlayColor:"#555",opacity:t.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(t){t?$(t).unblock({onUnblock:function(){$(t).css("position",""),$(t).css("zoom","")}}):$.unblockUI()},startPageLoading:function(t){t&&t.animate?($(".page-spinner-bar").remove(),$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')):($(".page-loading").remove(),$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(t&&t.message?t.message:"Loading...")+"</span></div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(t){t=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},t);var e=Metronic.getUniqueID("Metronic_alert"),n='<div id="'+e+'" class="Metronic-alerts alert alert-'+t.type+' fade in">'+(t.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==t.icon?'<i class="fa-lg fa fa-'+t.icon+'"></i>  ':"")+t.message+"</div>";return t.reset&&$(".Metronic-alerts").remove(),t.container?"append"==t.place?$(t.container).append(n):$(t.container).prepend(n):$("body").hasClass("page-container-bg-solid")?$(".page-title").after(n):$(".page-bar").size()>0?$(".page-bar").after(n):$(".page-breadcrumb").after(n),t.focus&&Metronic.scrollTo($("#"+e)),t.closeInSeconds>0&&setTimeout(function(){$("#"+e).remove()},1e3*t.closeInSeconds),e},initUniform:function(t){t?$(t).each(function(){0===$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())}):g()},updateUniform:function(t){$.uniform.update(t)},initFancybox:function(){_()},getActualVal:function(t){return t=$(t),t.val()===t.attr("placeholder")?"":t.val()},getURLParameter:function(t){var e,n,i=window.location.search.substring(1),o=i.split("&");for(e=0;e<o.length;e++)if(n=o[e].split("="),n[0]==t)return unescape(n[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},getViewPort:function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},getUniqueID:function(){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return n},isIE9:function(){return i},isRTL:function(){return e},isAngularJsApp:function(){return"undefined"==typeof angular?!1:!0},getAssetsPath:function(){return s},setAssetsPath:function(t){s=t},setGlobalImgPath:function(t){a=t},getGlobalImgPath:function(){return s+a},setGlobalPluginsPath:function(t){l=t},getGlobalPluginsPath:function(){return s+l},getGlobalCssPath:function(){return s+u},getBrandColor:function(t){return c[t]?c[t]:""},getResponsiveBreakpoint:function(t){var e={xs:480,sm:768,md:992,lg:1200};return e[t]?e[t]:0}}}(),Layout=function(){var t="admin/layout3/img/",e="admin/layout3/css/",n=Metronic.getResponsiveBreakpoint("md"),i=function(){$(".page-header").on("click",".search-form",function(){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(t){return 13==t.which?($(this).closest(".search-form").submit(),!1):void 0}),$(".page-header").on("mousedown",".search-form.open .submit",function(t){t.preventDefault(),t.stopPropagation(),$(this).closest(".search-form").submit()}),$("body").on("click",".page-header-top-fixed .page-header-top .menu-toggler",function(){Metronic.scrollTop()})},o=function(){$(".page-header .menu-toggler").on("click",function(){if(Metronic.getViewPort().width<n){var t=$(".page-header .page-header-menu");t.is(":visible")?t.slideUp(300):t.slideDown(300),$("body").hasClass("page-header-top-fixed")&&Metronic.scrollTop()}}),$(".hor-menu .dropdown-submenu > a").on("click",function(t){Metronic.getViewPort().width<n&&$(this).next().hasClass("dropdown-menu")&&(t.stopPropagation(),$(this).parent().hasClass("open")?($(this).parent().removeClass("open"),$(this).next().hide()):($(this).parent().addClass("open"),$(this).next().show()))}),Metronic.getViewPort().width>=n&&$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(document).on("click",'.hor-menu .menu-dropdown > a[data-hover="megamenu-dropdown"]',function(){Metronic.getViewPort().width<n&&Metronic.scrollTo($(this))}),$(document).on("click",".mega-menu-dropdown .dropdown-menu, .classic-menu-dropdown .dropdown-menu",function(t){t.stopPropagation()}),$(window).scroll(function(){var t=75;$("body").hasClass("page-header-menu-fixed")&&($(window).scrollTop()>t?$(".page-header-menu").addClass("fixed"):$(".page-header-menu").removeClass("fixed")),$("body").hasClass("page-header-top-fixed")&&($(window).scrollTop()>t?$(".page-header-top").addClass("fixed"):$(".page-header-top").removeClass("fixed"))})},r=function(t,e){var n=location.hash.toLowerCase(),i=$(".hor-menu");"click"===t||"set"===t?e=$(e):"match"===t&&i.find("li > a").each(function(){var t=$(this).attr("href").toLowerCase();return t.length>1&&n.substr(1,t.length-1)==t.substr(1)?void(e=$(this)):void 0}),e&&0!=e.size()&&"javascript:;"!==e.attr("href").toLowerCase()&&"#"!==e.attr("href").toLowerCase()&&(i.find("li.active").removeClass("active"),i.find("li > a > .selected").remove(),i.find("li.open").removeClass("open"),e.parents("li").each(function(){$(this).addClass("active"),1===$(this).parent("ul.navbar-nav").size()&&$(this).find("> a").append('<span class="selected"></span>')}))},s=function(){var t=Metronic.getViewPort().width,e=$(".page-header-menu");t>=n&&"desktop"!==e.data("breakpoint")?($('.hor-menu [data-toggle="dropdown"].active').removeClass("open"),e.data("breakpoint","desktop"),$('.hor-menu [data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}),$(".hor-menu .navbar-nav li.open").removeClass("open"),$(".page-header-menu").css("display","block")):n>t&&"mobile"!==e.data("breakpoint")&&($('.hor-menu [data-toggle="dropdown"].active').addClass("open"),e.data("breakpoint","mobile"),$('.hor-menu [data-hover="megamenu-dropdown"].hover-initialized').each(function(){$(this).unbind("hover"),$(this).parent().unbind("hover").find(".dropdown-submenu").each(function(){$(this).unbind("hover")}),$(this).removeClass("hover-initialized")}))},a=function(){var t;$("body").height()<Metronic.getViewPort().height&&(t=Metronic.getViewPort().height-$(".page-header").outerHeight()-($(".page-container").outerHeight()-$(".page-content").outerHeight())-$(".page-prefooter").outerHeight()-$(".page-footer").outerHeight(),$(".page-content").css("min-height",t))},l=function(){var t=100,e=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(){$(this).scrollTop()>t?$(".scroll-to-top").fadeIn(e):$(".scroll-to-top").fadeOut(e)}):$(window).scroll(function(){$(this).scrollTop()>t?$(".scroll-to-top").fadeIn(e):$(".scroll-to-top").fadeOut(e)}),$(".scroll-to-top").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},e),!1})};return{initHeader:function(){i(),o(),Metronic.addResizeHandler(s),Metronic.isAngularJsApp()&&r("match")},initContent:function(){a()},initFooter:function(){l()},init:function(){this.initHeader(),this.initContent(),this.initFooter()},setMainMenuActiveLink:function(t,e){r(t,e)},closeMainMenu:function(){$(".hor-menu").find("li.open").removeClass("open"),Metronic.getViewPort().width<n&&$(".page-header-menu").is(":visible")&&$(".page-header .menu-toggler").click()},getLayoutImgPath:function(){return Metronic.getAssetsPath()+t},getLayoutCssPath:function(){return Metronic.getAssetsPath()+e}}}();!function(t,e,n){function i(i,o){function s(){p.elem.children().css("margin",0).children().css("margin",0),p.elem.css({position:"relative",height:p.opts.height,overflow:"hidden"}),p.targ.css({position:"absolute",margin:0}),setInterval(function(){f()},100)}function a(){p.timer=setInterval(function(){1==p.winFocus&&u(p.opts.direction)},p.opts.interval),t(p.opts.controls.toggle).addClass("et-run").html(p.opts.controls.stopText)}function l(){clearInterval(p.timer),p.timer=0,t(p.opts.controls.toggle).removeClass("et-run").html(p.opts.controls.playText)}function u(t){var e,n,i;if(p.elem.is(":visible")){"up"==t?(e=":first-child",n="-=",i="appendTo"):(e=":last-child",n="+=",i="prependTo");var o=p.targ.children(e),r=o.outerHeight();p.targ.stop(!0,!0).animate({top:n+r+"px"},p.opts.speed,p.opts.easing,function(){o.hide()[i](p.targ).fadeIn(),p.targ.css("top",0),f()})}}function c(t){l(),u("up"==t?"up":"down")}function d(){var e=0,n=p.elem.css("display");p.elem.css("display","block"),p.targ.children().each(function(){e+=t(this).outerHeight()}),p.elem.css({display:n,height:e})}function h(e){var n=0;p.targ.children(":lt("+p.opts.visible+")").each(function(){n+=t(this).outerHeight()}),1==e?p.elem.stop(!0,!0).animate({height:n},p.opts.speed):p.elem.css("height",n)}function f(){"auto"==p.opts.height&&0!=p.opts.visible?(anim="init"==arguments.callee.caller.name?0:1,h(anim)):"auto"==p.opts.height&&d()}var p=this;return p.opts=t.extend({},r,o),p.elem=t(i),p.targ=t(i).children(":first-child"),p.timer=0,p.mHover=0,p.winFocus=1,s(),a(),t([e,n]).off("focus.jqet").on("focus.jqet",function(){p.winFocus=1}).off("blur.jqet").on("blur.jqet",function(){p.winFocus=0}),1==p.opts.mousePause&&p.elem.mouseenter(function(){p.timerTemp=p.timer,l()}).mouseleave(function(){0!==p.timerTemp&&a()}),t(p.opts.controls.up).on("click",function(t){t.preventDefault(),c("up")}),t(p.opts.controls.down).on("click",function(t){t.preventDefault(),c("down")}),t(p.opts.controls.toggle).on("click",function(t){t.preventDefault(),0==p.timer?a():l()}),{up:function(){c("up")},down:function(){c("down")},start:a,stop:l,options:p.opts}}var o="easyTicker",r={direction:"up",easing:"swing",speed:"slow",interval:2e3,height:"auto",visible:0,mousePause:1,controls:{up:"",down:"",toggle:"",playText:"Play",stopText:"Stop"}};t.fn[o]=function(e){return this.each(function(){t.data(this,o)||t.data(this,o,new i(this,e))})}}(jQuery,window,document),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function n(e,n){var i,o=t(e).data(),r={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var a in o)n.test(a)&&(i=a.replace(s,function(t,e){return e.toLowerCase()}),r[i]=o[a]);return r}function i(e){var n={};if(c[e]||(e=e.split("-")[0],c[e])){var i=c[e];return t.each(u,function(t,e){e in i&&(n[e]=i[e])}),n}}var o=t(window),r=function(e,n){this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(d.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};r.prototype={constructor:r,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(c[i]||(i=i.split("-")[0],c[i]||(i=l.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var o=d.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):d.parseDate(n.startDate,o,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):d.parseDate(n.endDate,o,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),s=n.orientation.toLowerCase();if(r=t.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else s=t.grep(r,function(t){return/^left|right$/.test(t)}),n.orientation.x=s[0]||"auto",s=t.grep(r,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=s[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.on(n)},_unapplyEvents:function(t){for(var e,n,i=0;i<t.length;i++)e=t[i][0],n=t[i][1],e.off(n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.date,o=this._utc_to_local(i);this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return d.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(this._local_to_utc(t))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),d.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=o.width(),s=o.height(),a=o.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,u=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=u.left,f=u.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-d)):(this.picker.addClass("datepicker-orient-left"),u.left<0?h-=u.left-i:u.left+e>r&&(h=r-e-i));var p,g,m=this.o.orientation.y;"auto"===m&&(p=-a+u.top-n,g=a+s-(u.top+c+n),m=Math.max(p,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f+=c:f-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:h,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=new Date(this.date),n=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],t instanceof Date&&(t=this._local_to_utc(t)),n=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=d.parseDate(t,this.o.format,this.o.language),n?this.setValue():t?e.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=this.date.valueOf(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()==i&&e.getUTCMonth()<o?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()==i&&e.getUTCMonth()>o)&&n.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==s.getFullYear()&&e.getUTCMonth()==s.getMonth()&&e.getUTCDate()==s.getDate()&&n.push("today"),e.valueOf()==r&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){{var n,i=new Date(this.viewDate),o=i.getUTCFullYear(),r=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf()}this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[r]+" "+o),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=e(o,r-1,28,0,0,0,0),f=d.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);
var p=new Date(h);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var g,m=[];h.valueOf()<p;){if(h.getUTCDay()==this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),y=new Date(+v+(11-v.getUTCDay())%7*864e5),b=new Date(+(b=e(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;m.push('<td class="cw">'+w+"</td>")}if(g=this.getClassNames(h),g.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(h));void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&g.push("disabled"),C.classes&&(g=g.concat(C.classes.split(/\s+/))),C.tooltip&&(n=C.tooltip)}g=t.unique(g),m.push('<td class="'+g.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var x=this.date&&this.date.getUTCFullYear(),D=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");x&&x==o&&D.eq(this.date.getUTCMonth()).addClass("active"),(s>o||o>l)&&D.addClass("disabled"),o==s&&D.slice(0,a).addClass("disabled"),o==l&&D.slice(u+1).addClass("disabled"),m="",o=10*parseInt(o/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var S=-1;11>S;S++)m+='<span class="year'+(-1==S?" old":10==S?" new":"")+(x==o?" active":"")+(s>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;T.html(m)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(n){n.preventDefault();var i=t(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=d.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=new Date;r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.o.todayBtn?null:"view";this._setDate(r,s);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=1,u=i.parent().find("span").index(i),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(u),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,u,l,0,0,0,0))}else{var c=parseInt(i.text(),10)||0,l=1,u=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,u,l,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth();i.is(".old")?0===u?(u=11,c-=1):u-=1:i.is(".new")&&(11==u?(u=0,c+=1):u+=1),this._setDate(e(c,u,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!=e||this.hide()},moveMonth:function(t,e){if(!e)return t;var n,i,o=new Date(t.valueOf()),r=o.getUTCDate(),s=o.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)i=-1==e?function(){return o.getUTCMonth()==s}:function(){return o.getUTCMonth()!=n},n=s+e,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;a>l;l++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!=o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,n,i,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*e),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+d.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var s=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};s.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){var n=t(e.target).data("datepicker"),i=n.getUTCDate(),o=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!=o){if(i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[o])for(;r>o&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=t.fn.datepicker;t.fn.datepicker=function(e){var o=Array.apply(null,arguments);o.shift();var a;return this.each(function(){var u=t(this),c=u.data("datepicker"),d="object"==typeof e&&e;if(!c){var h=n(this,"date"),f=t.extend({},l,h,d),p=i(f.language),g=t.extend({},l,p,h,d);if(u.is(".input-daterange")||g.inputs){var m={inputs:g.inputs||u.find("input").toArray()};u.data("datepicker",c=new s(this,t.extend(g,m)))}else u.data("datepicker",c=new r(this,g))}return"string"==typeof e&&"function"==typeof c[e]&&(a=c[e].apply(c,o),void 0!==a)?!1:void 0}),void 0!==a?a:this};var l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=r;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},d={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,d.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,i,o){if(n instanceof Date)return n;if("string"==typeof i&&(i=d.parseFormat(i)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){var s,a,l=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);n=new Date;for(var h=0;h<u.length;h++)switch(s=l.exec(u[h]),a=parseInt(s[1]),s[2]){case"d":n.setUTCDate(n.getUTCDate()+a);break;case"m":n=r.prototype.moveMonth.call(r.prototype,n,a);break;case"w":n.setUTCDate(n.getUTCDate()+7*a);break;case"y":n=r.prototype.moveYear.call(r.prototype,n,a)}return e(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}var f,p,s,u=n&&n.match(this.nonpunctuation)||[],n=new Date,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var y=i.parts.slice();if(u.length!=y.length&&(y=t(y).filter(function(e,n){return-1!==t.inArray(n,m)}).toArray()),u.length==y.length){for(var h=0,b=y.length;b>h;h++){if(f=parseInt(u[h],10),s=y[h],isNaN(f))switch(s){case"MM":p=t(c[o].months).filter(function(){var t=this.slice(0,u[h].length),e=u[h].slice(0,t.length);return t==e}),f=t.inArray(p[0],c[o].months)+1;break;case"M":p=t(c[o].monthsShort).filter(function(){var t=this.slice(0,u[h].length),e=u[h].slice(0,t.length);return t==e}),f=t.inArray(p[0],c[o].monthsShort)+1}g[s]=f}for(var w,C,h=0;h<m.length;h++)C=m[h],C in g&&!isNaN(g[C])&&(w=new Date(n),v[C](w,g[C]),isNaN(w)||(n=w))}return n},formatDate:function(e,n,i){"string"==typeof n&&(n=d.parseFormat(n));var o={d:e.getUTCDate(),D:c[i].daysShort[e.getUTCDay()],DD:c[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[i].monthsShort[e.getUTCMonth()],MM:c[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],r=t.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)r.length&&e.push(r.shift()),e.push(o[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=d,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),!function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=i(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,r,a,l=[],u=t.split(/ +/);for(e=0,n=u.length;n>e;e++){if(r=o(u[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(r=r.replace(new RegExp(a,"g"),s[a]));l.push({string:u[e],regex:new RegExp(r,"i")})}return l},t.prototype.iterator=function(t,e){var n;n=r(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,i,o,r;n=this,t=n.prepareSearch(t,e),o=t.tokens,i=t.options.fields,r=o.length;var s=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),-1===i?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},a=function(){var t=i.length;return t?1===t?function(t,e){return s(e[i[0]],t)}:function(e,n){for(var o=0,r=0;t>o;o++)r+=s(n[i[o]],e);return r/t}:function(){return 0}}();return r?1===r?function(t){return a(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;r>n;n++){if(e=a(o[n],t),0>=e)return 0;i+=e}return i/r}:function(t){for(var e=0,n=0;r>e;e++)n+=a(o[e],t);return n/r}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var i,o,r,s,a,l,u,c,d,h,f;if(r=this,t=r.prepareSearch(t,n),f=!t.query&&n.sort_empty||n.sort,d=function(t,e){return"$score"===t?e.score:r.items[e.id][t]},a=[],f)for(i=0,o=f.length;o>i;i++)(t.query||"$score"!==f[i].field)&&a.push(f[i]);if(t.query){for(h=!0,i=0,o=a.length;o>i;i++)if("$score"===a[i].field){h=!1;break}h&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;o>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(c=[],i=0,o=a.length;o>i;i++)c.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=c[0],function(t,n){return u*e(d(s,t),d(s,n))}):function(t,n){var i,o,r;for(i=0;l>i;i++)if(r=a[i].field,o=c[i]*e(d(r,t),d(r,n)))return o;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,o=e.sort,s=e.sort_empty;return i&&!r(i)&&(e.fields=[i]),o&&!r(o)&&(e.sort=[o]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,o,r,s=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,r=e.score||s.getScoreFunction(i),t.length?s.iterator(s.items,function(t,o){n=r(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(t,e){i.items.push({score:1,id:e})}),o=s.getSortFunction(i,e),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=a(String(t||"")),e=a(String(e||"")),t>e?1:e>t?-1:0)},n=function(t){var e,n,i,o;for(e=1,n=arguments.length;n>e;e++)if(o=arguments[e])for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);return t},i=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},a=function(){var t,e,n,i,o="",r={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),o+=i,t=0,e=i.length;e>t;t++)r[i.charAt(t)]=n;var a=new RegExp("["+o+"]","g");return function(t){return t.replace(a,function(t){return r[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;i>n;n++)"string"==typeof t[n]?s.push(t[n]):(r.plugins.settings[t[n].name]=t[n].options,s.push(t[n].name));else if(t)for(o in t)t.hasOwnProperty(o)&&(r.plugins.settings[o]=t[o],s.push(o));for(;s.length;)r.require(s.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,o=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=o.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var o=t.data.search(n);if(o>=0&&t.data.length>0){var r=t.data.match(n),s=document.createElement("span");s.className="highlight";var a=t.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=i(t.childNodes[u]);return e};return t.each(function(){i(this)})}},o=function(){};o.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=o.prototype[e[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,c=38,d=80,h=39,f=40,p=78,g=8,m=46,v=16,y=r?91:17,b=r?18:17,w=9,C=1,x=2,D=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,T=function(t){return"undefined"!=typeof t},S=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},k=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},E=function(t){return(t+"").replace(/\$/g,"$$$$")},_={};_.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},_.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var M=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},$=function(t,e){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,o)},e)}},O=function(t,e,n){var i,o=t.trigger,r={};t.trigger=function(){var n=arguments[0];return-1===e.indexOf(n)?o.apply(t,arguments):void(r[n]=arguments)},n.apply(t,[]),t.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(t,r[i])},F=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},A=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},N=function(t,e,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=t.css(n[i]);else r=t.css();e.css(r)},I=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");N(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},R=function(t){var e=null,n=function(n,i){var o,r,s,a,l,u,c,d;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(o=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===m||r===g?(d=A(t[0]),d.length?o=o.substring(0,d.start)+o.substring(d.start+d.length):r===g&&d.start?o=o.substring(0,d.start-1)+o.substring(d.start+1):r===m&&"undefined"!=typeof d.start&&(o=o.substring(0,d.start)+o.substring(d.start+1))):s&&(u=n.shiftKey,c=String.fromCharCode(n.keyCode),c=u?c.toUpperCase():c.toLowerCase(),o+=c)),a=t.attr("placeholder"),!o&&a&&(o=a),l=I(o,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},H=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?C:x,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++H.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:$(l.onSearchChange,i.loadThrottle)}),l.sifter=new e(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(H),n.mixin(H),t.extend(H.prototype,{setup:function(){var e,n,i,o,s,a,l,u,c,d=this,h=d.settings,f=d.eventNS,p=t(window),g=t(document),m=d.$input;if(l=d.settings.mode,u=m.attr("class")||"",e=t("<div>").addClass(h.wrapperClass).addClass(u).addClass(l),n=t("<div>").addClass(h.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",m.is(":disabled")?"-1":d.tabIndex),a=t(h.dropdownParent||e),o=t("<div>").addClass(h.dropdownClass).addClass(l).hide().appendTo(a),s=t("<div>").addClass(h.dropdownContentClass).appendTo(o),d.settings.copyClassesToDropdown&&o.addClass(u),e.css({width:m[0].style.width}),d.plugins.names.length&&(c="plugin-"+d.plugins.names.join(" plugin-"),e.addClass(c),o.addClass(c)),(null===h.maxItems||h.maxItems>1)&&d.tagType===C&&m.attr("multiple","multiple"),d.settings.placeholder&&i.attr("placeholder",h.placeholder),!d.settings.splitOn&&d.settings.delimiter){var w=d.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");d.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}m.attr("autocorrect")&&i.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&i.attr("autocapitalize",m.attr("autocapitalize")),d.$wrapper=e,d.$control=n,d.$control_input=i,d.$dropdown=o,d.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return d.onOptionHover.apply(d,arguments)}),o.on("mousedown click","[data-selectable]",function(){return d.onOptionSelect.apply(d,arguments)}),F(n,"mousedown","*:not(input)",function(){return d.onItemSelect.apply(d,arguments)}),R(i),n.on({mousedown:function(){return d.onMouseDown.apply(d,arguments)},click:function(){return d.onClick.apply(d,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return d.onKeyDown.apply(d,arguments)},keyup:function(){return d.onKeyUp.apply(d,arguments)},keypress:function(){return d.onKeyPress.apply(d,arguments)},resize:function(){d.positionDropdown.apply(d,[])},blur:function(){return d.onBlur.apply(d,arguments)},focus:function(){return d.ignoreBlur=!1,d.onFocus.apply(d,arguments)},paste:function(){return d.onPaste.apply(d,arguments)}}),g.on("keydown"+f,function(t){d.isCmdDown=t[r?"metaKey":"ctrlKey"],d.isCtrlDown=t[r?"altKey":"ctrlKey"],d.isShiftDown=t.shiftKey}),g.on("keyup"+f,function(t){t.keyCode===b&&(d.isCtrlDown=!1),t.keyCode===v&&(d.isShiftDown=!1),t.keyCode===y&&(d.isCmdDown=!1)}),g.on("mousedown"+f,function(t){if(d.isFocused){if(t.target===d.$dropdown[0]||t.target.parentNode===d.$dropdown[0])return!1;d.$control.has(t.target).length||t.target===d.$control[0]||d.blur(t.target)}}),p.on(["scroll"+f,"resize"+f].join(" "),function(){d.isOpen&&d.positionDropdown.apply(d,arguments)}),p.on("mousemove"+f,function(){d.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(d.$wrapper),t.isArray(h.items)&&(d.setValue(h.items),delete h.items),D&&m.on("invalid"+f,function(t){t.preventDefault(),d.isInvalid=!0,d.refreshState()}),d.updateOriginalInput(),d.refreshItems(),d.refreshState(),d.updatePlaceholder(),d.isSetup=!0,m.is(":disabled")&&d.disable(),d.on("change",this.onChange),m.data("selectize",d),m.addClass("selectized"),d.trigger("initialize"),h.preload===!0&&d.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,o={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},o,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();if(t(e.target),n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var e=t.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=e.length;o>i;i++)n.createItem(e[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==w&&t.preventDefault());switch(t.keyCode){case s:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case f:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case d:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case h:return void e.advanceSelection(1,t);case w:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(r?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(e||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(n))))
},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===C&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];O(this,n,function(){this.clear(),this.addItems(t,e)})},setActiveItem:function(e,n){var i,o,r,s,a,l,u,c,d=this;if("single"!==d.settings.mode){if(e=t(e),!e.length)return t(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&d.isShiftDown&&d.$activeItems.length){for(c=d.$control.children(".active:last"),s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]),s>a&&(u=s,s=a,a=u),o=s;a>=o;o++)l=d.$control[0].childNodes[o],-1===d.$activeItems.indexOf(l)&&(t(l).addClass("active"),d.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&d.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(r=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(r,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):(t(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),(n||!T(n))&&(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):n>s&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[e]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,t.extend(a,{score:o})),r.currentResults=i):i=t.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(S(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,o,r,s,a,l,u,c,d,h,f,p,g,m,v,y;"undefined"==typeof e&&(e=!0);var b=this,w=t.trim(b.$control_input.val()),C=b.search(w),x=b.$dropdown_content,D=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(s=C.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=b.options[C.items[n].id],c=b.render("option",u),d=u[b.settings.optgroupField]||"",h=t.isArray(d)?d:[d],o=0,r=h&&h.length;r>o;o++)d=h[o],b.optgroups.hasOwnProperty(d)||(d=""),a.hasOwnProperty(d)||(a[d]=[],l.push(d)),a[d].push(c);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var n=b.optgroups[t].$order||0,i=b.optgroups[e].$order||0;return n-i}),f=[],n=0,s=l.length;s>n;n++)d=l[n],b.optgroups.hasOwnProperty(d)&&a[d].length?(p=b.render("optgroup_header",b.optgroups[d])||"",p+=a[d].join(""),f.push(b.render("optgroup",t.extend({},b.optgroups[d],{html:p})))):f.push(a[d].join(""));if(x.html(f.join("")),b.settings.highlight&&C.query.length&&C.tokens.length)for(n=0,s=C.tokens.length;s>n;n++)i(x,C.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,s=b.items.length;s>n;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(w),g&&(x.prepend(b.render("option_create",{input:w})),y=t(x[0].childNodes[0])),b.hasOptions=C.items.length>0||g,b.hasOptions?(C.items.length>0?(v=D&&b.getOption(D),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):x.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,o,r=this;if(t.isArray(e))for(n=0,i=e.length;i>n;n++)r.addOption(e[n]);else(o=r.registerOption(e))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,e))},registerOption:function(t){var e=S(t[this.settings.valueField]);return!e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,o,r,s,a,l,u,c=this;if(e=S(e),r=S(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=c.options[e].$order,r!==e&&(delete c.options[e],s=c.items.indexOf(e),-1!==s&&c.items.splice(s,1,r)),n.$order=n.$order||u,c.options[r]=n,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[e],delete a[r]),l&&(delete l[e],delete l[r]),-1!==c.items.indexOf(r)&&(i=c.getItem(e),o=t(c.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=S(t);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[t],o&&delete o[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},getElementWithValue:function(e,n){if(e=S(e),"undefined"!=typeof e&&null!==e)for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],o=0,r=i.length;r>o;o++)this.isPending=r-1>o,this.addItem(i[o],n)},addItem:function(e,n){var i=n?[]:["change"];O(this,i,function(){var i,o,r,s,a,l=this,u=l.settings.mode;return e=S(e),-1!==l.items.indexOf(e)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===u&&l.clear(),"multi"===u&&l.isFull()||(i=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(e),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(t,e){var n,i,o,r=this;n="object"==typeof t?t:r.getItem(t),t=S(n.attr("data-value")),i=r.items.indexOf(t),-1!==i&&(n.remove(),n.hasClass("active")&&(o=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(o,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(t)&&r.removeOption(t,e),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:e}),r.positionDropdown(),r.trigger("item_remove",t,n))},createItem:function(e,n){var i=this,o=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},a=M(function(t){if(i.unlock(),!t||"object"!=typeof t)return r();var e=S(t[i.settings.valueField]);return"string"!=typeof e?r():(i.setTextboxValue(""),i.addOption(t),i.setCaret(o),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void r(t))}),l=s.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t,e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",t)),e.refreshClasses()},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,o,r=this;if(t=t||{},r.tagType===C){for(i=[],e=0,n=r.items.length;n>e;e++)o=r.options[r.items[e]][r.settings.labelField]||"",i.push('<option value="'+k(r.items[e])+'" selected="selected">'+k(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(t.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,o,r,s,a,l,u,c,d=this;if(o=e&&e.keyCode===g?-1:1,r=A(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l=d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),s=[],d.$activeItems.length){for(c=d.$control.children(".active:"+(o>0?"last":"first")),a=d.$control.children(":not(input)").index(c),o>0&&a++,n=0,i=d.$activeItems.length;i>n;n++)s.push(t(d.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(0>o&&0===r.start&&0===r.length?s.push(d.items[d.caretPos-1]):o>0&&r.start===d.$control_input.val().length&&s.push(d.items[d.caretPos]));if(!s.length||"function"==typeof d.settings.onDelete&&d.settings.onDelete.apply(d,[s])===!1)return!1;for("undefined"!=typeof a&&d.setCaret(a);s.length;)d.removeItem(s.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(u=d.getOption(l),u.length&&d.setActiveOption(u)),!0},advanceSelection:function(t,e){var n,i,o,r,s,a,l=this;0!==t&&(l.rtl&&(t*=-1),n=t>0?"last":"first",i=A(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>t?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?o+1:o))))},advanceCaret:function(t,e){var n,i,o=this;0!==t&&(n=t>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),e&&e.preventDefault())):o.setCaret(o.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;o>i;i++)s=t(r[i]).detach(),e>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(t,e){var n,i,o="",r=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===t||"item"===t)&&(n=S(e[s.settings.valueField]),r=!!n),r&&(T(s.renderCache[t])||(s.renderCache[t]={}),s.renderCache[t].hasOwnProperty(n))?s.renderCache[t][n]:(o=s.settings.render[t].apply(this,[e,k]),("option"===t||"option_create"===t)&&(o=o.replace(a,"<$1 data-selectable")),"optgroup"===t&&(i=e[s.settings.optgroupValueField]||"",o=o.replace(a,'<$1 data-group="'+E(k(i))+'"')),("option"===t||"item"===t)&&(o=o.replace(a,'<$1 data-value="'+E(k(n||""))+'"')),r&&(s.renderCache[t][n]=o),o)},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return!(!t.length||"function"==typeof n&&!n.apply(e,[t])||"string"==typeof n&&!new RegExp(n).test(t)||n instanceof RegExp&&!n.test(t))}}),H.count=0,H.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,c={},d=function(e,n){var a,l,u,c,d=e.attr(o);if(d)for(n.options=JSON.parse(d),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var h=t.trim(e.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(u=h.split(i.delimiter),a=0,l=u.length;l>a;a++)c={},c[r]=u[a],c[s]=u[a],n.options.push(c);n.items=u}},h=function(e,n){var d,h,f,p,g=n.options,m=function(t){var e=o&&t.attr(o);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,o){e=t(e);var l=S(e.attr("value"));if(l||i.allowEmptyOption)if(c.hasOwnProperty(l)){if(o){var u=c[l][a];u?t.isArray(u)?u.push(o):c[l][a]=[u,o]:c[l][a]=o}}else{var d=m(e)||{};d[r]=d[r]||e.text(),d[s]=d[s]||l,d[a]=d[a]||o,c[l]=d,g.push(d),e.is(":selected")&&n.items.push(l)}},y=function(e){var i,o,r,s,a;for(e=t(e),r=e.attr("label"),r&&(s=m(e)||{},s[l]=r,s[u]=r,n.optgroups.push(s)),a=t("option",e),i=0,o=a.length;o>i;i++)v(a[i],r)};for(n.maxItems=e.attr("multiple")?null:1,p=e.children(),d=0,h=p.length;h>d;d++)f=p[d].tagName.toLowerCase(),"optgroup"===f?y(p[d]):"option"===f&&v(p[d])};return this.each(function(){if(!this.selectize){var o,r=t(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?h(r,l):d(r,l),o=new H(r,t.extend(!0,{},n,l,e))}})},t.fn.selectize.defaults=H.defaults,t.fn.selectize.support={validity:D},H.define("drag_drop",function(){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var t=e.lock;return function(){var n=e.$control.data("sortable");return n&&n.disable(),t.apply(e,arguments)}}(),e.unlock=function(){var t=e.unlock;return function(){var n=e.$control.data("sortable");return n&&n.enable(),t.apply(e,arguments)}}(),e.setup=function(){var n=e.setup;return function(){n.apply(this,arguments);var i=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=e.$activeItems?e.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(t(this).attr("data-value"))}),e.setValue(o),e.setActiveItem(n)}})}}()}}),H.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),H.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),o=i.index(e)+n;return o>=0&&o<i.length?i.eq(o):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,o,r,s;return!this.isOpen||e.keyCode!==u&&e.keyCode!==h?t.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=e.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},o=function(){var o,r,s,a,l,u,c;if(c=t("[data-group]",n.$dropdown_content),r=c.length,r&&n.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,c.eq(o).height());c.css({height:s})}e.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/r),c.css({width:a}),r>1&&(l=u-a*(r-1),c.eq(r-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(_.after(this,"positionDropdown",o),_.after(this,"refreshOptions",o))}),H.define("remove_button",function(e){if("single"!==this.settings.mode){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this,i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+k(e.title)+'">'+e.label+"</a>",o=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};this.setup=function(){var r=n.setup;return function(){if(e.append){var s=n.settings.render.item;n.settings.render.item=function(){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!n.isLocked){var i=t(e.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),H.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,o;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[o])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),H}),function(t){var e=!1,n=!1,i={isUrl:function(t){var e=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return e.test(t)?!0:!1},loadContent:function(t,e){t.html(e)},addPrefix:function(t){var e=t.attr("id"),n=t.attr("class");"string"==typeof e&&""!==e&&t.attr("id",e.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof n&&""!==n&&"sidr-inner"!==n&&t.attr("class",n.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),t.removeAttr("style")},execute:function(i,r,s){"function"==typeof r?(s=r,r="sidr"):r||(r="sidr");var a,l,u,c=t("#"+r),d=t(c.data("body")),h=t("html"),f=c.outerWidth(!0),p=c.data("speed"),g=c.data("side"),m=c.data("displace"),v=c.data("onOpen"),y=c.data("onClose"),b="sidr"===r?"sidr-open":"sidr-open "+r+"-open";if("open"===i||"toggle"===i&&!c.is(":visible")){if(c.is(":visible")||e)return;if(n!==!1)return void o.close(n,function(){o.open(r)});e=!0,"left"===g?(a={left:f+"px"},l={left:"0px"}):(a={right:f+"px"},l={right:"0px"}),d.is("body")&&(u=h.scrollTop(),h.css("overflow-x","hidden").scrollTop(u)),m?d.addClass("sidr-animating").css({width:d.width(),position:"absolute"}).animate(a,p,function(){t(this).addClass(b)}):setTimeout(function(){t(this).addClass(b)},p),c.css("display","block").animate(l,p,function(){e=!1,n=r,"function"==typeof s&&s(r),d.removeClass("sidr-animating")}),v()}else{if(!c.is(":visible")||e)return;e=!0,"left"===g?(a={left:0},l={left:"-"+f+"px"}):(a={right:0},l={right:"-"+f+"px"}),d.is("body")&&(u=h.scrollTop(),h.removeAttr("style").scrollTop(u)),d.addClass("sidr-animating").animate(a,p).removeClass(b),c.animate(l,p,function(){c.removeAttr("style").hide(),d.removeAttr("style"),t("html").removeAttr("style"),e=!1,n=!1,"function"==typeof s&&s(r),d.removeClass("sidr-animating")}),y()}}},o={open:function(t,e){i.execute("open",t,e)},close:function(t,e){i.execute("close",t,e)},toggle:function(t,e){i.execute("toggle",t,e)},toogle:function(t,e){i.execute("toggle",t,e)}};t.sidr=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sidr"):o.toggle.apply(this,arguments)},t.fn.sidr=function(e){var n=t.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},e),r=n.name,s=t("#"+r);if(0===s.length&&(s=t("<div />").attr("id",r).appendTo(t("body"))),s.addClass("sidr").addClass(n.side).data({speed:n.speed,side:n.side,body:n.body,displace:n.displace,onOpen:n.onOpen,onClose:n.onClose}),"function"==typeof n.source){var a=n.source(r);i.loadContent(s,a)}else if("string"==typeof n.source&&i.isUrl(n.source))t.get(n.source,function(t){i.loadContent(s,t)});else if("string"==typeof n.source){var l="",u=n.source.split(",");if(t.each(u,function(e,n){l+='<div class="sidr-inner">'+t(n).html()+"</div>"}),n.renaming){var c=t("<div />").html(l);c.find("*").each(function(e,n){var o=t(n);i.addPrefix(o)}),l=c.html()}i.loadContent(s,l)}else null!==n.source&&t.error("Invalid Sidr Source");return this.each(function(){var e=t(this),n=e.data("sidr");n||(e.data("sidr",r),"ontouchstart"in document.documentElement?(e.bind("touchstart",function(t){t.originalEvent.touches[0],this.touched=t.timeStamp}),e.bind("touchend",function(t){var e=Math.abs(t.timeStamp-this.touched);200>e&&(t.preventDefault(),o.toggle(r))})):e.click(function(t){t.preventDefault(),o.toggle(r)}))})}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,i,o=this.length>>>0,r=!1;for(1<arguments.length&&(i=e,r=!0),n=0;o>n;++n)this.hasOwnProperty(n)&&(r?i=t(i,this[n],n,this):(i=this[n],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return i}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in e){var s=e[r];t.call(o,s,r,e)&&i.push(s)}return i});var e,n="function"==typeof define&&define.amd,i=function(e){var n="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",e+","+n).width();return i.remove(),o!==r},o={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:n,hasCodeMirror:n?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:i,isW3CRangeSupport:!!document.createRange},r=function(){var e=function(t){return function(e){return t===e}},n=function(t,e){return t===e},i=function(t){return function(e,n){return e[t]===n[t]}},o=function(){return!0},r=function(){return!1},s=function(t){return function(){return!t.apply(t,arguments)}},a=function(t,e){return function(n){return t(n)&&e(n)}},l=function(t){return t},u=0,c=function(t){var e=++u+"";return t?t+e:e},d=function(e){var n=t(document);return{top:e.top+n.scrollTop(),left:e.left+n.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},h=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e};return{eq:e,eq2:n,peq2:i,ok:o,fail:r,self:l,not:s,and:a,uniqueId:c,rect2bnd:d,invertObject:h}}(),s=function(){var e=function(t){return t[0]},n=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},o=function(t){return t.slice(1)},s=function(t,e){for(var n=0,i=t.length;i>n;n++){var o=t[n];if(e(o))return o}},a=function(t,e){for(var n=0,i=t.length;i>n;n++)if(!e(t[n]))return!1;return!0},l=function(e,n){return-1!==t.inArray(n,e)},u=function(t,e){return e=e||r.self,t.reduce(function(t,n){return t+e(n)},0)},c=function(t){for(var e=[],n=-1,i=t.length;++n<i;)e[n]=t[n];return e},d=function(t,i){if(!t.length)return[];var r=o(t);return r.reduce(function(t,e){var o=n(t);return i(n(o),e)?o[o.length]=e:t[t.length]=[e],t},[[e(t)]])},h=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&e.push(t[n]);return e},f=function(t){for(var e=[],n=0,i=t.length;i>n;n++)l(e,t[n])||e.push(t[n]);return e};return{head:e,last:n,initial:i,tail:o,find:s,contains:l,all:a,sum:u,from:c,clusterBy:d,compact:h,unique:f}}(),a=String.fromCharCode(160),l="",u=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},n=function(e){return e&&t(e).hasClass("note-control-sizing")},i=function(e){var n;if(e.hasClass("note-air-editor")){var i=s.last(e.attr("id").split("-"));return n=function(e){return function(){return t(e+i)}},{editor:function(){return e},editable:function(){return e},popover:n("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}return n=function(t){return function(){return e.find(t)}},{editor:function(){return e},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog")}},c=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},d=function(t){return t&&3===t.nodeType},h=function(t){return t&&/^BR|^IMG|^HR/.test(t.nodeName.toUpperCase())},f=function(t){return e(t)?!1:t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},p=c("LI"),g=function(t){return f(t)&&!p(t)},m=function(t){return!w(t)&&!v(t)&&!f(t)},v=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},y=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())},b=c("BLOCKQUOTE"),w=function(t){return y(t)||b(t)||e(t)},C=c("A"),x=function(t){return m(t)&&!!M(t,f)},D=function(t){return m(t)&&!M(t,f)},T=c("BODY"),S=o.isMSIE?"&nbsp;":"<br>",k=function(t){return d(t)?t.nodeValue.length:t.childNodes.length},E=function(t){var e=k(t);return 0===e?!0:u.isText(t)||1!==e||t.innerHTML!==S?!1:!0},_=function(t){h(t)||k(t)||(t.innerHTML=S)},M=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},$=function(t,n){n=n||r.fail;var i=[];return M(t,function(t){return e(t)||i.push(t),n(t)}),i},O=function(t,e){var n=$(t);return s.last(n.filter(e))},F=function(e,n){for(var i=$(e),o=n;o;o=o.parentNode)if(t.inArray(o,i)>-1)return o;return null},A=function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},N=function(t,e){e=e||r.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},I=function(t,e){var n=[];return e=e||r.ok,function i(o){t!==o&&e(o)&&n.push(o);for(var r=0,s=o.childNodes.length;s>r;r++)i(o.childNodes[r])}(t),n},R=function(e,n){var i=e.parentNode,o=t("<"+n+">")[0];return i.insertBefore(o,e),o.appendChild(e),o
},H=function(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t},L=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},P=function(t){return 0===t.offset},U=function(t){return t.offset===k(t.node)},z=function(t){return P(t)||U(t)},j=function(t,e){for(;t&&t!==e;){if(0!==B(t))return!1;t=t.parentNode}return!0},Y=function(t,e){for(;t&&t!==e;){if(B(t)!==k(t.parentNode)-1)return!1;t=t.parentNode}return!0},B=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},W=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},q=function(t,n){var i,o;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=B(t.node)}else W(t.node)?(i=t.node.childNodes[t.offset-1],o=k(i)):(i=t.node,o=n?0:t.offset-1);return{node:i,offset:o}},V=function(t,n){var i,o;if(k(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,o=B(t.node)+1}else W(t.node)?(i=t.node.childNodes[t.offset],o=0):(i=t.node,o=n?k(t.node):t.offset+1);return{node:i,offset:o}},G=function(t,e){return t.node===e.node&&t.offset===e.offset},K=function(t){if(d(t.node)||!W(t.node)||E(t.node))return!0;var e=t.node.childNodes[t.offset-1],n=t.node.childNodes[t.offset];return e&&!h(e)||n&&!h(n)?!1:!0},Z=function(t,e){for(;t;){if(e(t))return t;t=q(t)}return null},Q=function(t,e){for(;t;){if(e(t))return t;t=V(t)}return null},X=function(t,e,n,i){for(var o=t;o&&(n(o),!G(o,e));){var r=i&&t.node!==o.node&&e.node!==o.node;o=V(o,r)}},J=function(e,n){var i=$(n,r.eq(e));return t.map(i,B).reverse()},te=function(t,e){for(var n=t,i=0,o=e.length;o>i;i++)n=n.childNodes.length<=e[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[e[i]];return n},ee=function(t,e){if(d(t.node))return P(t)?t.node:U(t)?t.node.nextSibling:t.node.splitText(t.offset);var n=t.node.childNodes[t.offset],i=H(t.node.cloneNode(!1),t.node);return L(i,N(n)),e||(_(t.node),_(i)),i},ne=function(t,e,n){var i=$(e.node,r.eq(t));return i.length?1===i.length?ee(e,n):i.reduce(function(t,i){var o=H(i.cloneNode(!1),i);return t===e.node&&(t=ee(e,n)),L(o,N(t)),n||(_(i),_(o)),o}):null},ie=function(t){return document.createElement(t)},oe=function(t){return document.createTextNode(t)},re=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var n=t.parentNode;if(!e){var i,o,r=[];for(i=0,o=t.childNodes.length;o>i;i++)r.push(t.childNodes[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],t)}n.removeChild(t)}},se=function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;re(t),t=i}},ae=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var n=ie(e);return t.style.cssText&&(n.style.cssText=t.style.cssText),L(n,s.from(t.childNodes)),H(n,t),re(t),n},le=c("TEXTAREA"),ue=function(e,n){var i=le(e[0])?e.val():e.html();if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(t,e,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return t+(i||o?"\n":"")}),i=t.trim(i)}return i},ce=function(t){var e=t.val();return e.replace(/[\n\r]/g,"")};return{NBSP_CHAR:a,ZERO_WIDTH_NBSP_CHAR:l,blank:S,emptyPara:"<p>"+S+"</p>",isEditable:e,isControlSizing:n,buildLayoutInfo:i,isText:d,isPara:f,isPurePara:g,isInline:m,isBodyInline:D,isBody:T,isParaInline:x,isList:v,isTable:c("TABLE"),isCell:y,isBlockquote:b,isBodyContainer:w,isAnchor:C,isDiv:c("DIV"),isLi:p,isSpan:c("SPAN"),isB:c("B"),isU:c("U"),isS:c("S"),isI:c("I"),isImg:c("IMG"),isTextarea:le,isEmpty:E,isEmptyAnchor:r.and(C,E),nodeLength:k,isLeftEdgePoint:P,isRightEdgePoint:U,isEdgePoint:z,isLeftEdgeOf:j,isRightEdgeOf:Y,prevPoint:q,nextPoint:V,isSamePoint:G,isVisiblePoint:K,prevPointUntil:Z,nextPointUntil:Q,walkPoint:X,ancestor:M,listAncestor:$,lastAncestor:O,listNext:N,listPrev:A,listDescendant:I,commonAncestor:F,wrap:R,insertAfter:H,appendChildNodes:L,position:B,hasChildren:W,makeOffsetPath:J,fromOffsetPath:te,splitTree:ne,create:ie,createText:oe,remove:re,removeWhile:se,replace:ae,html:ue,value:ce}}(),c={version:"0.5.10",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","superscript","subscript","strikethrough","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],fontSizes:["8","9","10","11","12","14","18","24","36"],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,onCreateLink:function(t){return-1!==t.indexOf("@")&&-1===t.indexOf(":")?t="mailto:"+t:-1===t.indexOf("://")&&(t="http://"+t),t},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},d=function(){var e=function(e){return t.Deferred(function(n){t.extend(new FileReader,{onload:function(t){var e=t.target.result;n.resolve(e)},onerror:function(){n.reject(this)}}).readAsDataURL(e)}).promise()},n=function(e,n){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e).attr("data-filename",n)}).promise()};return{readFileAsDataURL:e,createImage:n}}(),h={isEdit:function(t){return s.contains([8,9,13,32],t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},f=function(){var e=function(e,n){if(o.jqueryVersion<1.9){var i={};return t.each(n,function(t,n){i[n]=e.css(n)}),i}return e.css.call(e,n)};this.stylePara=function(e,n){t.each(e.nodes(u.isPara,{includeAncestor:!0}),function(e,i){t(i).css(n)})},this.current=function(n,i){var o=t(u.isText(n.sc)?n.sc.parentNode:n.sc),r=["font-family","font-size","text-align","list-style-type","line-height"],s=e(o,r)||{};if(s["font-size"]=parseInt(s["font-size"],10),s["font-bold"]=document.queryCommandState("bold")?"bold":"normal",s["font-italic"]=document.queryCommandState("italic")?"italic":"normal",s["font-underline"]=document.queryCommandState("underline")?"underline":"normal",s["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",s["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",s["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",n.isOnList()){var a=["circle","disc","disc-leading-zero","square"],l=t.inArray(s["list-style-type"],a)>-1;s["list-style"]=l?"unordered":"ordered"}else s["list-style"]="none";var c=u.ancestor(n.sc,u.isPara);if(c&&c.style["line-height"])s["line-height"]=c.style.lineHeight;else{var d=parseInt(s["line-height"],10)/parseInt(s["font-size"],10);s["line-height"]=d.toFixed(1)}return s.image=u.isImg(i)&&i,s.anchor=n.isOnAnchor()&&u.ancestor(n.sc,u.isAnchor),s.ancestors=u.listAncestor(n.sc,u.isEditable),s.range=n,s}},p=function(){var e=function(t,e){var n,i,o=t.parentElement(),r=document.body.createTextRange(),a=s.from(o.childNodes);for(n=0;n<a.length;n++)if(!u.isText(a[n])){if(r.moveToElementText(a[n]),r.compareEndPoints("StartToStart",t)>=0)break;i=a[n]}if(0!==n&&u.isText(a[n-1])){var l=document.body.createTextRange(),c=null;l.moveToElementText(i||o),l.collapse(!i),c=i?i.nextSibling:o.firstChild;var d=t.duplicate();d.setEndPoint("StartToStart",l);for(var h=d.text.replace(/[\r\n]/g,"").length;h>c.nodeValue.length&&c.nextSibling;)h-=c.nodeValue.length,c=c.nextSibling;c.nodeValue,e&&c.nextSibling&&u.isText(c.nextSibling)&&h===c.nodeValue.length&&(h-=c.nodeValue.length,c=c.nextSibling),o=c,n=h}return{cont:o,offset:n}},n=function(t){var e=function(t,n){var i,o;if(u.isText(t)){var a=u.listPrev(t,r.not(u.isText)),l=s.last(a).previousSibling;i=l||t.parentNode,n+=s.sum(s.tail(a),u.nodeLength),o=!l}else{if(i=t.childNodes[n]||t,u.isText(i))return e(i,0);n=0,o=!1}return{node:i,collapseToStart:o,offset:n}},n=document.body.createTextRange(),i=e(t.node,t.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},i=function(e,a,l,c){this.sc=e,this.so=a,this.ec=l,this.eo=c;var d=function(){if(o.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,a),t.setEnd(l,c),t}var i=n({node:e,offset:a});return i.setEndPoint("EndToEnd",n({node:l,offset:c})),i};this.getPoints=function(){return{sc:e,so:a,ec:l,eo:c}},this.getStartPoint=function(){return{node:e,offset:a}},this.getEndPoint=function(){return{node:l,offset:c}},this.select=function(){var t=d();if(o.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select()},this.normalize=function(){var t=function(t){return u.isVisiblePoint(t)||(u.isLeftEdgePoint(t)?t=u.nextPointUntil(t,u.isVisiblePoint):u.isRightEdgePoint(t)&&(t=u.prevPointUntil(t,u.isVisiblePoint))),t},e=t(this.getStartPoint()),n=t(this.getStartPoint());return new i(e.node,e.offset,n.node,n.offset)},this.nodes=function(t,e){t=t||r.ok;var n=e&&e.includeAncestor,i=e&&e.fullyContains,o=this.getStartPoint(),a=this.getEndPoint(),l=[],c=[];return u.walkPoint(o,a,function(e){if(!u.isEditable(e.node)){var o;i?(u.isLeftEdgePoint(e)&&c.push(e.node),u.isRightEdgePoint(e)&&s.contains(c,e.node)&&(o=e.node)):o=n?u.ancestor(e.node,t):e.node,o&&t(o)&&l.push(o)}},!0),s.unique(l)},this.commonAncestor=function(){return u.commonAncestor(e,l)},this.expand=function(t){var n=u.ancestor(e,t),o=u.ancestor(l,t);if(!n&&!o)return new i(e,a,l,c);var r=this.getPoints();return n&&(r.sc=n,r.so=0),o&&(r.ec=o,r.eo=u.nodeLength(o)),new i(r.sc,r.so,r.ec,r.eo)},this.collapse=function(t){return t?new i(e,a,e,a):new i(l,c,l,c)},this.splitText=function(){var t=e===l,n=this.getPoints();return u.isText(l)&&!u.isEdgePoint(this.getEndPoint())&&l.splitText(c),u.isText(e)&&!u.isEdgePoint(this.getStartPoint())&&(n.sc=e.splitText(a),n.so=0,t&&(n.ec=n.sc,n.eo=c-a)),new i(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),n=e.nodes(null,{fullyContains:!0}),o=u.prevPointUntil(e.getStartPoint(),function(t){return!s.contains(n,t.node)}),r=[];return t.each(n,function(t,e){var n=e.parentNode;o.node!==n&&1===u.nodeLength(n)&&r.push(n),u.remove(e,!1)}),t.each(r,function(t,e){u.remove(e,!1)}),new i(o.node,o.offset,o.node,o.offset)};var h=function(t){return function(){var n=u.ancestor(e,t);return!!n&&n===u.ancestor(l,t)}};this.isOnEditable=h(u.isEditable),this.isOnList=h(u.isList),this.isOnAnchor=h(u.isAnchor),this.isOnCell=h(u.isCell),this.isLeftEdgeOf=function(t){if(!u.isLeftEdgePoint(this.getStartPoint()))return!1;var e=u.ancestor(this.sc,t);return e&&u.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===l&&a===c},this.wrapBodyInlineWithPara=function(){if(u.isBodyContainer(e)&&u.isEmpty(e))return e.innerHTML=u.emptyPara,new i(e.firstChild,0);if(!u.isInline(e)||u.isParaInline(e))return this;var t=u.listAncestor(e,r.not(u.isInline)),n=s.last(t);u.isInline(n)||(n=t[t.length-2]||e.childNodes[a]);var o=u.listPrev(n,u.isParaInline).reverse();if(o=o.concat(u.listNext(n.nextSibling,u.isParaInline)),o.length){var l=u.wrap(s.head(o),"p");u.appendChildNodes(l,s.tail(o))}return this},this.insertNode=function(t,e){var n,i,o,r=this.wrapBodyInlineWithPara(),a=r.getStartPoint();if(e)i=u.isPara(a.node)?a.node:a.node.parentNode,o=u.isPara(a.node)?a.node.childNodes[a.offset]:u.splitTree(a.node,a);else{var l=u.listAncestor(a.node,u.isBodyContainer),c=s.last(l)||a.node;u.isBodyContainer(c)?(n=l[l.length-2],i=c):(n=c,i=n.parentNode),o=n&&u.splitTree(n,a)}return o?o.parentNode.insertBefore(t,o):i.appendChild(t),t},this.toString=function(){var t=d();return o.isW3CRangeSupport?t.toString():t.text},this.bookmark=function(t){return{s:{path:u.makeOffsetPath(t,e),offset:a},e:{path:u.makeOffsetPath(t,l),offset:c}}},this.getClientRects=function(){var t=d();return t.getClientRects()}};return{create:function(t,n,r,s){if(arguments.length)2===arguments.length&&(r=t,s=n);else if(o.isW3CRangeSupport){var a=document.getSelection();if(0===a.rangeCount)return null;if(u.isBody(a.anchorNode))return null;var l=a.getRangeAt(0);t=l.startContainer,n=l.startOffset,r=l.endContainer,s=l.endOffset}else{var c=document.selection.createRange(),d=c.duplicate();d.collapse(!1);var h=c;h.collapse(!0);var f=e(h,!0),p=e(d,!1);u.isText(f.node)&&u.isLeftEdgePoint(f)&&u.isTextNode(p.node)&&u.isRightEdgePoint(p)&&p.node.nextSibling===f.node&&(f=p),t=f.cont,n=f.offset,r=p.cont,s=p.offset}return new i(t,n,r,s)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var n=u.fromOffsetPath(t,e.s.path),o=e.s.offset,r=u.fromOffsetPath(t,e.e.path),s=e.e.offset;return new i(n,o,r,s)}}}(),g=function(){this.insertTab=function(t,e,n){var i=u.createText(new Array(n+1).join(u.NBSP_CHAR));e=e.deleteContents(),e.insertNode(i,!0),e=p.create(i,n),e.select()},this.insertParagraph=function(){var e=p.create();e=e.deleteContents(),e=e.wrapBodyInlineWithPara();var n,i=u.ancestor(e.sc,u.isPara);if(i){n=u.splitTree(i,e.getStartPoint());var o=u.listDescendant(i,u.isEmptyAnchor);o=o.concat(u.listDescendant(n,u.isEmptyAnchor)),t.each(o,function(t,e){u.remove(e)})}else{var r=e.sc.childNodes[e.so];n=t(u.emptyPara)[0],r?e.sc.insertBefore(n,r):e.sc.appendChild(n)}p.create(n,0).normalize().select()}},m=function(){this.tab=function(t,e){var n=u.ancestor(t.commonAncestor(),u.isCell),i=u.ancestor(n,u.isTable),o=u.listDescendant(i,u.isCell),r=s[e?"prev":"next"](o,n);r&&p.create(r,0).select()},this.createTable=function(e,n){for(var i,o=[],r=0;e>r;r++)o.push("<td>"+u.blank+"</td>");i=o.join("");for(var s,a=[],l=0;n>l;l++)a.push("<tr>"+i+"</tr>");return s=a.join(""),t('<table class="table table-bordered">'+s+"</table>")[0]}},v=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var e=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(u.isPara,{includeAncestor:!0}),o=s.clusterBy(i,r.peq2("parentNode"));t.each(o,function(n,i){var o=s.head(i);u.isLi(o)?e.wrapList(i,o.parentNode.nodeName):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),n.select()},this.outdent=function(){var e=this,n=p.create().wrapBodyInlineWithPara(),i=n.nodes(u.isPara,{includeAncestor:!0}),o=s.clusterBy(i,r.peq2("parentNode"));t.each(o,function(n,i){var o=s.head(i);u.isLi(o)?e.releaseList([i]):t.each(i,function(e,n){t(n).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),n.select()},this.toggleList=function(e){var n=this,i=p.create().wrapBodyInlineWithPara(),o=i.nodes(u.isPara,{includeAncestor:!0}),a=s.clusterBy(o,r.peq2("parentNode"));if(s.find(o,u.isPurePara))t.each(a,function(t,i){n.wrapList(i,e)});else{var l=i.nodes(u.isList,{includeAncestor:!0}).filter(function(n){return!t.nodeName(n,e)});l.length?t.each(l,function(t,n){u.replace(n,e)}):this.releaseList(a,!0)}i.select()},this.wrapList=function(e,n){var i=s.head(e),o=s.last(e),r=u.isList(i.previousSibling)&&i.previousSibling,a=u.isList(o.nextSibling)&&o.nextSibling,l=r||u.insertAfter(u.create(n||"UL"),o);e=t.map(e,function(t){return u.isPurePara(t)?u.replace(t,"LI"):t}),u.appendChildNodes(l,e),a&&(u.appendChildNodes(l,s.from(a.childNodes)),u.remove(a))},this.releaseList=function(e,n){var i=[];return t.each(e,function(e,o){var r=s.head(o),a=s.last(o),l=n?u.lastAncestor(r,u.isList):r.parentNode,c=l.childNodes.length>1?u.splitTree(l,{node:a.parentNode,offset:u.position(a)+1},!0):null,d=u.splitTree(l,{node:r.parentNode,offset:u.position(r)},!0);o=n?u.listDescendant(d,u.isLi):s.from(d.childNodes).filter(u.isLi),(n||!u.isList(l.parentNode))&&(o=t.map(o,function(t){return u.replace(t,"P")})),t.each(s.from(o).reverse(),function(t,e){u.insertAfter(e,l)});var h=s.compact([l,d,c]);t.each(h,function(e,n){var i=[n].concat(u.listDescendant(n,u.isList));t.each(i.reverse(),function(t,e){u.nodeLength(e)||u.remove(e,!0)})}),i=i.concat(o)}),i}},y=function(){var e=new f,n=new m,i=new g,r=new v;this.saveRange=function(t,e){t.focus(),t.data("range",p.create()),e&&p.create().collapse().select()},this.restoreRange=function(t){var e=t.data("range");e&&(e.select(),t.focus())},this.currentStyle=function(t){var n=p.create();return n?n.isOnEditable()&&e.current(n,t):!1};var a=this.triggerOnChange=function(t){var e=t.data("callbacks").onChange;e&&e(t.html(),t)};this.undo=function(t){t.data("NoteHistory").undo(),a(t)},this.redo=function(t){t.data("NoteHistory").redo(),a(t)};for(var l=this.afterCommand=function(t){t.data("NoteHistory").recordUndo(),a(t)},c=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],h=0,y=c.length;y>h;h++)this[c[h]]=function(t){return function(e,n){document.execCommand(t,!1,n),l(e)}}(c[h]);this.tab=function(t,e){var o=p.create();o.isCollapsed()&&o.isOnCell()?n.tab(o):(i.insertTab(t,o,e.tabsize),l(t))},this.untab=function(){var t=p.create();t.isCollapsed()&&t.isOnCell()&&n.tab(t,!0)},this.insertParagraph=function(t){i.insertParagraph(t),l(t)},this.insertOrderedList=function(t){r.insertOrderedList(t),l(t)},this.insertUnorderedList=function(t){r.insertUnorderedList(t),l(t)},this.indent=function(t){r.indent(t),l(t)},this.outdent=function(t){r.outdent(t),l(t)},this.insertImage=function(t,e,n){d.createImage(e,n).then(function(e){e.css({display:"",width:Math.min(t.width(),e.width())}),p.create().insertNode(e[0]),l(t)}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,n){var i,o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=n.match(o),s=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,a=n.match(s),u=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,c=n.match(u),d=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,h=n.match(d),f=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,g=n.match(f),m=/\/\/v\.youku\.com\/v_show\/id_(\w+)\.html/,v=n.match(m);if(r&&11===r[2].length){var y=r[2];i=t("<iframe>").attr("src","//www.youtube.com/embed/"+y).attr("width","640").attr("height","360")}else a&&a[0].length?i=t("<iframe>").attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):c&&c[0].length?i=t("<iframe>").attr("src",c[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):h&&h[3].length?i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360"):g&&g[2].length?i=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+g[2]).attr("width","640").attr("height","360"):v&&v[1].length&&(i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+v[1]));i&&(i.attr("frameborder",0),p.create().insertNode(i[0]),l(e))},this.formatBlock=function(t,e){e=o.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e),l(t)},this.formatPara=function(t){this.formatBlock(t,"P"),l(t)};for(var h=1;6>=h;h++)this["formatH"+h]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(h);this.fontSize=function(t,e){document.execCommand("fontSize",!1,3),o.isFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px"),l(t)},this.lineHeight=function(t,n){e.stylePara(p.create(),{lineHeight:n}),l(t)},this.unlink=function(t){var e=p.create();if(e.isOnAnchor()){var n=u.ancestor(e.sc,u.isAnchor);e=p.createFromNode(n),e.select(),document.execCommand("unlink"),l(t)}},this.createLink=function(e,n,i){var o=n.url,r=n.text,s=n.newWindow,a=n.range;i.onCreateLink&&(o=i.onCreateLink(o)),a=a.deleteContents();var u=a.insertNode(t("<A>"+r+"</A>")[0],!0);t(u).attr({href:o,target:s?"_blank":""}),p.createFromNode(u).select(),l(e)},this.getLinkInfo=function(e){e.focus();var n=p.create().expand(u.isAnchor),i=t(s.head(n.nodes(u.isAnchor)));return{range:n,text:n.toString(),isNewWindow:i.length?"_blank"===i.attr("target"):!0,url:i.length?i.attr("href"):""}},this.getVideoInfo=function(t){t.focus();var e=p.create();if(e.isOnAnchor()){var n=u.ancestor(e.sc,u.isAnchor);e=p.createFromNode(n)}return{text:e.toString()}},this.color=function(t,e){var n=JSON.parse(e),i=n.foreColor,o=n.backColor;i&&document.execCommand("foreColor",!1,i),o&&document.execCommand("backColor",!1,o),l(t)},this.insertTable=function(t,e){var i=e.split("x"),o=p.create();o=o.deleteContents(),o.insertNode(n.createTable(i[0],i[1])),l(t)},this.floatMe=function(t,e,n){n.css("float",e),l(t)},this.imageShape=function(t,e,n){n.removeClass("img-rounded img-circle img-thumbnail"),e&&n.addClass(e)},this.resize=function(t,e,n){n.css({width:100*e+"%",height:""}),l(t)},this.resizeTo=function(t,e,n){var i;if(n){var o=t.y/t.x,r=e.data("ratio");i={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else i={width:t.x,height:t.y};e.css(i)},this.removeMedia=function(t,e,n){n.detach(),l(t)}},b=function(t){var e=[],n=-1,i=t[0],o=function(){var e=p.create(),n={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(i):n}},r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&p.createFromBookmark(i,e.bookmark).select()};this.undo=function(){n>0&&(n--,r(e[n]))},this.redo=function(){e.length-1>n&&(n++,r(e[n]))},this.recordUndo=function(){n++,e.length>n&&(e=e.slice(0,n)),e.push(o())},this.recordUndo()},w=function(){this.update=function(e,n){var i=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==n+"";this.className=e?"checked":""})},o=function(t,n){var i=e.find(t);i.toggleClass("active",n())},r=e.find(".note-fontname");if(r.length){var a=n["font-family"];a&&(a=s.head(a.split(",")),a=a.replace(/\'/g,""),r.find(".note-current-fontname").text(a),i(r,a))}var l=e.find(".note-fontsize");l.find(".note-current-fontsize").text(n["font-size"]),i(l,parseFloat(n["font-size"]));var u=e.find(".note-height");i(u,parseFloat(n["line-height"])),o('button[data-event="bold"]',function(){return"bold"===n["font-bold"]}),o('button[data-event="italic"]',function(){return"italic"===n["font-italic"]}),o('button[data-event="underline"]',function(){return"underline"===n["font-underline"]}),o('button[data-event="strikethrough"]',function(){return"strikethrough"===n["font-strikethrough"]}),o('button[data-event="superscript"]',function(){return"superscript"===n["font-superscript"]}),o('button[data-event="subscript"]',function(){return"subscript"===n["font-subscript"]}),o('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),o('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),o('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),o('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),o('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),o('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,i){var o=t(e).closest(".note-color"),r=o.find(".note-recent-color"),s=JSON.parse(r.attr("data-value"));s[n]=i,r.attr("data-value",JSON.stringify(s));var a="backColor"===n?"background-color":"color";r.find("i").css(a,i)}},C=function(){var t=new w;this.update=function(e,n){t.update(e,n)},this.updateRecentColor=function(e,n,i){t.updateRecentColor(e,n,i)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(t,e){var n=t.find('button[data-event="fullscreen"]');n.toggleClass("active",e)},this.updateCodeview=function(t,e){var n=t.find('button[data-event="codeview"]');n.toggleClass("active",e)}},x=function(){var e=new w,n=function(e,n){var i=t(e),o=n?i.offset():i.position(),r=i.outerHeight(!0);return{left:o.left,top:o.top+r}},i=function(t,e){t.css({display:"block",left:e.left,top:e.top})},o=20;this.update=function(a,l,u){e.update(a,l);var c=a.find(".note-link-popover");if(l.anchor){var d=c.find("a"),h=t(l.anchor).attr("href");d.attr("href",h).html(h),i(c,n(l.anchor,u))}else c.hide();var f=a.find(".note-image-popover");l.image?i(f,n(l.image,u)):f.hide();var p=a.find(".note-air-popover");if(u&&!l.range.isCollapsed()){var g=r.rect2bnd(s.last(l.range.getClientRects()));i(p,{left:Math.max(g.left+g.width/2-o,0),top:g.top+g.height})}else p.hide()},this.updateRecentColor=function(t,e,n){t.updateRecentColor(t,e,n)},this.hide=function(t){t.children().hide()}},D=function(){this.update=function(e,n,i){var o=e.find(".note-control-selection");if(n.image){var r=t(n.image),s=i?r.offset():r.position(),a={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",n.image);var l=a.w+"x"+a.h;o.find(".note-control-selection-info").text(l)}else o.hide()},this.hide=function(t){t.children().hide()}},T=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(n,i){return t.Deferred(function(t){var n=i.find(".note-image-dialog"),o=i.find(".note-image-input"),r=i.find(".note-image-url"),s=i.find(".note-image-btn");n.one("shown.bs.modal",function(){o.replaceWith(o.clone().on("change",function(){t.resolve(this.files),n.modal("hide")}).val("")),s.click(function(e){e.preventDefault(),t.resolve(r.val()),n.modal("hide")}),r.on("keyup paste",function(t){var n;n="paste"===t.type?t.originalEvent.clipboardData.getData("text"):r.val(),e(s,n)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){o.off("change"),r.off("keyup paste"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showVideoDialog=function(n,i,o){return t.Deferred(function(t){var n=i.find(".note-video-dialog"),r=n.find(".note-video-url"),s=n.find(".note-video-btn");n.one("shown.bs.modal",function(){r.val(o.text).keyup(function(){e(s,r.val())}).trigger("keyup").trigger("focus"),s.click(function(e){e.preventDefault(),t.resolve(r.val()),n.modal("hide")})}).one("hidden.bs.modal",function(){r.off("keyup"),s.off("click"),"pending"===t.state()&&t.reject()}).modal("show")})},this.showLinkDialog=function(n,i,o){return t.Deferred(function(t){var n=i.find(".note-link-dialog"),r=n.find(".note-link-text"),s=n.find(".note-link-url"),a=n.find(".note-link-btn"),l=n.find("input[type=checkbox]");n.one("shown.bs.modal",function(){r.val(o.text),r.keyup(function(){o.text=r.val()}),o.url||(o.url=o.text,e(a,o.text)),s.keyup(function(){e(a,s.val()),o.text||r.val(s.val())}).val(o.url).trigger("focus").trigger("select"),l.prop("checked",o.newWindow),a.one("click",function(e){e.preventDefault(),t.resolve({range:o.range,url:s.val(),text:r.val(),newWindow:l.is(":checked")}),n.modal("hide")})}).one("hidden.bs.modal",function(){r.off("keyup"),s.off("keyup"),a.off("click"),"pending"===t.state()&&t.reject()}).modal("show")}).promise()},this.showHelpDialog=function(e,n){return t.Deferred(function(t){var e=n.find(".note-help-dialog");e.one("hidden.bs.modal",function(){t.resolve()
}).modal("show")}).promise()}};o.hasCodeMirror&&(o.isSupportAmd?require(["CodeMirror"],function(t){e=t}):e=window.CodeMirror);var S=function(){var n=t(window),i=t(document),r=t("html, body"),a=new y,l=new C,c=new x,f=new D,p=new T,g=function(e){var n=t(e).closest(".note-editor, .note-air-editor, .note-air-layout");if(!n.length)return null;var i;return i=n.is(".note-editor, .note-air-editor")?n:t("#note-editor-"+s.last(n.attr("id").split("-"))),u.buildLayoutInfo(i)},m=function(e,n){var i=e.data("callbacks");i.onImageUpload?i.onImageUpload(n,a,e):t.each(n,function(t,n){var o=n.name;d.readFileAsDataURL(n).then(function(t){a.insertImage(e,t,o)}).fail(function(){i.onImageUploadError&&i.onImageUploadError()})})},v={showLinkDialog:function(t){var e=t.editor(),n=t.dialog(),i=t.editable(),o=a.getLinkInfo(i),r=e.data("options");a.saveRange(i),p.showLinkDialog(i,n,o).then(function(e){a.restoreRange(i),a.createLink(i,e,r),c.hide(t.popover())}).fail(function(){a.restoreRange(i)})},showImageDialog:function(t){var e=t.dialog(),n=t.editable();a.saveRange(n),p.showImageDialog(n,e).then(function(t){a.restoreRange(n),"string"==typeof t?a.insertImage(n,t):m(n,t)}).fail(function(){a.restoreRange(n)})},showVideoDialog:function(t){var e=t.dialog(),n=t.editable(),i=a.getVideoInfo(n);a.saveRange(n),p.showVideoDialog(n,e,i).then(function(t){a.restoreRange(n),a.insertVideo(n,t)}).fail(function(){a.restoreRange(n)})},showHelpDialog:function(t){var e=t.dialog(),n=t.editable();a.saveRange(n,!0),p.showHelpDialog(n,e).then(function(){a.restoreRange(n)})},fullscreen:function(t){var e=t.editor(),i=t.toolbar(),o=t.editable(),s=t.codable(),a=e.data("options"),u=function(t){e.css("width",t.w),o.css("height",t.h),s.css("height",t.h),s.data("cmeditor")&&s.data("cmeditor").setsize(null,t.h)};e.toggleClass("fullscreen");var c=e.hasClass("fullscreen");c?(o.data("orgheight",o.css("height")),n.on("resize",function(){u({w:n.width(),h:n.height()-i.outerHeight()})}).trigger("resize"),r.css("overflow","hidden")):(n.off("resize"),u({w:a.width||"",h:o.data("orgheight")}),r.css("overflow","visible")),l.updateFullscreen(i,c)},codeview:function(t){var n,i,r=t.editor(),s=t.toolbar(),a=t.editable(),d=t.codable(),h=t.popover(),f=r.data("options");r.toggleClass("codeview");var p=r.hasClass("codeview");p?(d.val(u.html(a,!0)),d.height(a.height()),l.deactivate(s),c.hide(h),d.focus(),o.hasCodeMirror&&(n=e.fromTextArea(d[0],f.codemirror),f.codemirror.tern&&(i=new e.TernServer(f.codemirror.tern),n.ternServer=i,n.on("cursorActivity",function(t){i.updateArgHints(t)})),n.setSize(null,a.outerHeight()),d.data("cmEditor",n))):(o.hasCodeMirror&&(n=d.data("cmEditor"),d.val(n.getValue()),n.toTextArea()),a.html(u.value(d)||u.emptyPara),a.height(f.height?d.height():"auto"),l.activate(s),a.focus()),l.updateCodeview(t.toolbar(),p)}},w=function(t){u.isImg(t.target)&&t.preventDefault()},S=function(t){setTimeout(function(){var e=g(t.currentTarget||t.target),n=a.currentStyle(t.target);if(n){var i=e.editor().data("options").airMode;i||l.update(e.toolbar(),n),c.update(e.popover(),n,i),f.update(e.handle(),n,i)}},0)},k=function(t){var e=g(t.currentTarget||t.target);c.hide(e.popover()),f.hide(e.handle())},E=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var n=g(t.currentTarget||t.target),i=n.editable(),o=s.head(e.items),r="file"===o.kind&&-1!==o.type.indexOf("image/");r&&m(i,[o.getAsFile()]),a.afterCommand(i)}},_=function(e){if(u.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var n=g(e.target),o=n.handle(),r=n.popover(),s=n.editable(),l=n.editor(),d=o.find(".note-control-selection").data("target"),h=t(d),p=h.offset(),m=i.scrollTop(),v=l.data("options").airMode;i.on("mousemove",function(t){a.resizeTo({x:t.clientX-p.left,y:t.clientY-(p.top-m)},h,!t.shiftKey),f.update(o,{image:d},v),c.update(r,{image:d},v)}).one("mouseup",function(){i.off("mousemove")}),h.data("ratio")||h.data("ratio",h.height()/h.width()),a.afterCommand(s)}},M=function(e){var n=t(e.target).closest("[data-event]");n.length&&e.preventDefault()},$=function(e){var n=t(e.target).closest("[data-event]");if(n.length){var i=n.attr("data-event"),o=n.attr("data-value"),r=n.attr("data-hide"),u=g(e.target);e.preventDefault();var d;if(-1!==t.inArray(i,["resize","floatMe","removeMedia","imageShape"])){var h=u.handle().find(".note-control-selection");d=t(h.data("target"))}if(r&&n.parents(".popover").hide(),a[i]){var f=u.editable();f.trigger("focus"),a[i](f,o,d)}else v[i]&&v[i].call(this,u);if(-1!==t.inArray(i,["backColor","foreColor"])){var p=u.editor().data("options",p),m=p.airMode?c:l;m.updateRecentColor(s.head(n),i,o)}S(e)}},O=24,F=function(t){t.preventDefault(),t.stopPropagation();var e=g(t.target).editable(),n=e.offset().top-i.scrollTop(),o=g(t.currentTarget||t.target),r=o.editor().data("options");i.on("mousemove",function(t){var i=t.clientY-(n+O);i=r.minHeight>0?Math.max(i,r.minHeight):i,i=r.maxHeight>0?Math.min(i,r.maxHeight):i,e.height(i)}).one("mouseup",function(){i.off("mousemove")})},A=18,N=function(e,n){var i,o=t(e.target.parentNode),r=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),a=o.find(".note-dimension-picker-highlighted"),l=o.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var u=t(e.target).offset();i={x:e.pageX-u.left,y:e.pageY-u.top}}else i={x:e.offsetX,y:e.offsetY};var c={c:Math.ceil(i.x/A)||1,r:Math.ceil(i.y/A)||1};a.css({width:c.c+"em",height:c.r+"em"}),s.attr("data-value",c.c+"x"+c.r),3<c.c&&c.c<n.insertTableMaxSize.col&&l.css({width:c.c+1+"em"}),3<c.r&&c.r<n.insertTableMaxSize.row&&l.css({height:c.r+1+"em"}),r.html(c.c+" x "+c.r)},I=function(t,e){e?i.on("drop",function(t){t.preventDefault()}):R(t)},R=function(e){var n=t(),o=e.dropzone,r=e.dropzone.find(".note-dropzone-message");i.on("dragenter",function(t){var i=e.editor.hasClass("codeview");i||n.length||(e.editor.addClass("dragover"),o.width(e.editor.width()),o.height(e.editor.height()),r.text("Drag Image Here")),n=n.add(t.target)}).on("dragleave",function(t){n=n.not(t.target),n.length||e.editor.removeClass("dragover")}).on("drop",function(){n=t(),e.editor.removeClass("dragover")}),o.on("dragenter",function(){o.addClass("hover"),r.text("Drop Image")}).on("dragleave",function(){o.removeClass("hover"),r.text("Drag Image Here")}),o.on("drop",function(t){t.preventDefault();var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=g(t.currentTarget||t.target);n.editable().focus(),m(n.editable(),e.files)}}).on("dragover",!1)};this.bindKeyMap=function(t,e){var n=t.editor,i=t.editable;t=g(i),i.on("keydown",function(o){var r=[];o.metaKey&&r.push("CMD"),o.ctrlKey&&!o.altKey&&r.push("CTRL"),o.shiftKey&&r.push("SHIFT");var s=h.nameFromCode[o.keyCode];s&&r.push(s);var l=e[r.join("+")];l?(o.preventDefault(),a[l]?a[l](i,n.data("options")):v[l]&&v[l].call(this,t)):h.isEdit(o.keyCode)&&a.afterCommand(i)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[o.isMac?"mac":"pc"]),t.editable.on("mousedown",w),t.editable.on("keyup mouseup",S),t.editable.on("scroll",k),t.editable.on("paste",E),t.handle.on("mousedown",_),t.popover.on("click",$),t.popover.on("mousedown",M),e.airMode||(I(t,e.disableDragAndDrop),t.toolbar.on("click",$),t.toolbar.on("mousedown",M),e.disableResizeEditor||t.statusbar.on("mousedown",F));var n=e.airMode?t.popover:t.toolbar,i=n.find(".note-dimension-picker-mousecatcher");i.css({width:e.insertTableMaxSize.col+"em",height:e.insertTableMaxSize.row+"em"}).on("mousemove",function(t){N(t,e)}),t.editor.data("options",e),e.styleWithSpan&&!o.isMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)},0);var r=new b(t.editable);if(t.editable.data("NoteHistory",r),e.onenter&&t.editable.keypress(function(t){t.keyCode===h.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var s=function(){a.triggerOnChange(t.editable)};if(o.isMSIE){var l="DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted";t.editable.on(l,s)}else t.editable.on("input",s)}t.editable.data("callbacks",{onChange:e.onChange,onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t,e){t.editable.off(),t.popover.off(),t.handle.off(),t.dialog.off(),e.airMode||(t.dropzone.off(),t.toolbar.off(),t.statusbar.off())}},k=function(){var e=function(t,e){var n=e.event,i=e.value,o=e.title,r=e.className,s=e.dropdown,a=e.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(r?" "+r:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(o?' title="'+o+'"':"")+(n?' data-event="'+n+'"':"")+(i?" data-value='"+i+"'":"")+(a?" data-hide='"+a+"'":"")+' tabindex="-1">'+t+(s?' <span class="caret"></span>':"")+"</button>"+(s||"")},n=function(t,n){var i='<i class="'+t+'"></i>';return e(i,n)},i=function(t,e){return'<div class="'+t+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+e+"</div></div>"},s=function(t,e,n,i){return'<div class="'+t+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(e?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+e+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body"><div class="row-fluid">'+n+"</div></div>"+(i?'<div class="modal-footer">'+i+"</div>":"")+"</form></div></div></div>"},a={picture:function(t){return n("fa fa-picture-o icon-picture",{event:"showImageDialog",title:t.image.image,hide:!0})},link:function(t){return n("fa fa-link icon-link",{event:"showLinkDialog",title:t.link.link,hide:!0})},video:function(t){return n("fa fa-youtube-play icon-play",{event:"showVideoDialog",title:t.video.video,hide:!0})},table:function(t){var e='<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>';return n("fa fa-table icon-table",{title:t.table.table,dropdown:e})},style:function(t,e){var i=e.styleTags.reduce(function(e,n){var i=t.style["p"===n?"normal":n];return e+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+("p"===n||"pre"===n?i:"<"+n+">"+i+"</"+n+">")+"</a></li>"},"");return n("fa fa-magic icon-magic",{title:t.style.style,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},fontname:function(t,n){var i=n.fontNames.reduce(function(t,e){return o.isFontInstalled(e)?t+'<li><a data-event="fontName" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>":t},""),r='<span class="note-current-fontname">'+n.defaultFontName+"</span>";return e(r,{title:t.font.name,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},fontsize:function(t,n){var i=n.fontSizes.reduce(function(t,e){return t+'<li><a data-event="fontSize" href="#" data-value="'+e+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},""),o='<span class="note-current-fontsize">11</span>';return e(o,{title:t.font.size,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},color:function(t){var n='<i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i>',i=e(n,{className:"note-recent-color",title:t.color.recent,event:"color",value:'{"backColor":"yellow"}'}),o='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>',r=e("",{title:t.color.more,dropdown:o});return i+r},bold:function(t){return n("fa fa-bold icon-bold",{event:"bold",title:t.font.bold})},italic:function(t){return n("fa fa-italic icon-italic",{event:"italic",title:t.font.italic})},underline:function(t){return n("fa fa-underline icon-underline",{event:"underline",title:t.font.underline})},strikethrough:function(t){return n("fa fa-strikethrough icon-strikethrough",{event:"strikethrough",title:t.font.strikethrough})},superscript:function(t){return n("fa fa-superscript icon-superscript",{event:"superscript",title:t.font.superscript})},subscript:function(t){return n("fa fa-subscript icon-subscript",{event:"subscript",title:t.font.subscript})},clear:function(t){return n("fa fa-eraser icon-eraser",{event:"removeFormat",title:t.font.clear})},ul:function(t){return n("fa fa-list-ul icon-list-ul",{event:"insertUnorderedList",title:t.lists.unordered})},ol:function(t){return n("fa fa-list-ol icon-list-ol",{event:"insertOrderedList",title:t.lists.ordered})},paragraph:function(t){var e=n("fa fa-align-left icon-align-left",{title:t.paragraph.left,event:"justifyLeft"}),i=n("fa fa-align-center icon-align-center",{title:t.paragraph.center,event:"justifyCenter"}),o=n("fa fa-align-right icon-align-right",{title:t.paragraph.right,event:"justifyRight"}),r=n("fa fa-align-justify icon-align-justify",{title:t.paragraph.justify,event:"justifyFull"}),s=n("fa fa-outdent icon-indent-left",{title:t.paragraph.outdent,event:"outdent"}),a=n("fa fa-indent icon-indent-right",{title:t.paragraph.indent,event:"indent"}),l='<div class="dropdown-menu"><div class="note-align btn-group">'+e+i+o+r+'</div><div class="note-list btn-group">'+a+s+"</div></div>";return n("fa fa-align-left icon-align-left",{title:t.paragraph.paragraph,dropdown:l})},height:function(t,e){var i=e.lineHeights.reduce(function(t,e){return t+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(e)+'"><i class="fa fa-check icon-ok"></i> '+e+"</a></li>"},"");return n("fa fa-text-height icon-text-height",{title:t.font.height,dropdown:'<ul class="dropdown-menu">'+i+"</ul>"})},help:function(t){return n("fa fa-question icon-question",{event:"showHelpDialog",title:t.options.help,hide:!0})},fullscreen:function(t){return n("fa fa-arrows-alt icon-fullscreen",{event:"fullscreen",title:t.options.fullscreen})},codeview:function(t){return n("fa fa-code icon-code",{event:"codeview",title:t.options.codeview})},undo:function(t){return n("fa fa-undo icon-undo",{event:"undo",title:t.history.undo})},redo:function(t){return n("fa fa-repeat icon-repeat",{event:"redo",title:t.history.redo})},hr:function(t){return n("fa fa-minus icon-hr",{event:"insertHorizontalRule",title:t.hr.insert})}},l=function(t,o){var r=function(){var e=n("fa fa-edit icon-edit",{title:t.link.edit,event:"showLinkDialog",hide:!0}),o=n("fa fa-unlink icon-unlink",{title:t.link.unlink,event:"unlink"}),r='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+e+o+"</div>";return i("note-link-popover",r)},s=function(){var o=e('<span class="note-fontsize-10">100%</span>',{title:t.image.resizeFull,event:"resize",value:"1"}),r=e('<span class="note-fontsize-10">50%</span>',{title:t.image.resizeHalf,event:"resize",value:"0.5"}),s=e('<span class="note-fontsize-10">25%</span>',{title:t.image.resizeQuarter,event:"resize",value:"0.25"}),a=n("fa fa-align-left icon-align-left",{title:t.image.floatLeft,event:"floatMe",value:"left"}),l=n("fa fa-align-right icon-align-right",{title:t.image.floatRight,event:"floatMe",value:"right"}),u=n("fa fa-align-justify icon-align-justify",{title:t.image.floatNone,event:"floatMe",value:"none"}),c=n("fa fa-square icon-unchecked",{title:t.image.shapeRounded,event:"imageShape",value:"img-rounded"}),d=n("fa fa-circle-o icon-circle-blank",{title:t.image.shapeCircle,event:"imageShape",value:"img-circle"}),h=n("fa fa-picture-o icon-picture",{title:t.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),f=n("fa fa-times icon-times",{title:t.image.shapeNone,event:"imageShape",value:""}),p=n("fa fa-trash-o icon-trash",{title:t.image.remove,event:"removeMedia",value:"none"}),g='<div class="btn-group">'+o+r+s+'</div><div class="btn-group">'+a+l+u+'</div><div class="btn-group">'+c+d+h+f+'</div><div class="btn-group">'+p+"</div>";return i("note-image-popover",g)},l=function(){for(var e="",n=0,r=o.airPopover.length;r>n;n++){var s=o.airPopover[n];e+='<div class="note-'+s[0]+' btn-group">';for(var l=0,u=s[1].length;u>l;l++)e+=a[s[1][l]](t,o);e+="</div>"}return i("note-air-popover",e)};return'<div class="note-popover">'+r()+s()+(o.airMode?l():"")+"</div>"},c=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},d=function(t,e){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t+"</th></tr></thead><tbody>"+e+"</tbody></table>"},h=function(t){var e="<tr><td>⌘ + B</td><td>"+t.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+t.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+t.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+t.font.strikethrough+"</td></tr><tr><td>⌘ + \\</td><td>"+t.font.clear+"</td></tr>";return d(t.shortcut.textFormatting,e)},f=function(t){var e="<tr><td>⌘ + Z</td><td>"+t.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+t.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>⌘ + ENTER</td><td>"+t.hr.insert+"</td></tr>";return d(t.shortcut.action,e)},p=function(t){var e="<tr><td>⌘ + ⇧ + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+t.lists.unordered+"</td></tr>";return d(t.shortcut.paragraphFormatting,e)},g=function(t){var e="<tr><td>⌘ + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+t.style.h6+"</td></tr>";return d(t.shortcut.documentStyle,e)},m=function(t,e){var n=e.extraKeys,i="";for(var o in n)n.hasOwnProperty(o)&&(i+="<tr><td>"+o+"</td><td>"+n[o]+"</td></tr>");return d(t.shortcut.extraKeys,i)},v=function(t,e){var n='<table class="note-shortcut-layout"><tbody><tr><td>'+f(t,e)+"</td><td>"+h(t,e)+"</td></tr><tr><td>"+g(t,e)+"</td><td>"+p(t,e)+"</td></tr>";return e.extraKeys&&(n+='<tr><td colspan="2">'+m(t,e)+"</td></tr>"),n+="</tbody></table>"},y=function(t){return t.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")},b=function(t,e){var n=function(){var e='<div class="note-group-select-from-files"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /></div><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" />',n='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+t.image.insert+"</button>";return s("note-image-dialog",t.image.insert,e,n)},i=function(){var n='<div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>"),i='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+t.link.insert+"</button>";return s("note-link-dialog",t.link.insert,n,i)},r=function(){var e='<div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div>',n='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+t.video.insert+"</button>";return s("note-video-dialog",t.video.insert,e,n)},a=function(){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(o.isMac?v(t,e):y(v(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.10</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p>';return s("note-help-dialog","",n,"")};return'<div class="note-dialog">'+n()+i()+r()+a()+"</div>"},w=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},C=function(t){return o.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},x=function(e,n,i){var o=r.invertObject(n),s=e.find("button");s.each(function(e,n){var i=t(n),r=o[i.data("event")];r&&i.attr("title",function(t,e){return e+" ("+C(r)+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){t(this).tooltip("hide")})},D=function(e,n){var i=n.colors;e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),o=[],r=0,s=i.length;s>r;r++){for(var a=i[r],l=[],u=0,c=a.length;c>u;u++){var d=a[u];l.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',n,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+l.join("")+"</div>")}e.html(o.join(""))})};this.createLayoutByAirMode=function(e,n){var i=n.keyMap[o.isMac?"mac":"pc"],s=t.extend(t.summernote.lang["en-US"],t.summernote.lang[n.lang]),a=r.uniqueId();e.addClass("note-air-editor note-editable"),e.attr({id:"note-editor-"+a,contentEditable:!0});var u=document.body,d=t(l(s,n));d.addClass("note-air-layout"),d.attr("id","note-popover-"+a),d.appendTo(u),x(d,i),D(d,n);var h=t(c());h.addClass("note-air-layout"),h.attr("id","note-handle-"+a),h.appendTo(u);var f=t(b(s,n));f.addClass("note-air-layout"),f.attr("id","note-dialog-"+a),f.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),f.appendTo(u)},this.createLayoutByFrame=function(e,n){var i=t('<div class="note-editor"></div>');n.width&&i.width(n.width),n.height>0&&t('<div class="note-statusbar">'+(n.disableResizeEditor?"":w())+"</div>").prependTo(i);var r=!e.is(":disabled"),s=t('<div class="note-editable" contentEditable="'+r+'"></div>').prependTo(i);n.height&&s.height(n.height),n.direction&&s.attr("dir",n.direction),s.html(u.html(e)||u.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(i);for(var d=t.extend(t.summernote.lang["en-US"],t.summernote.lang[n.lang]),h="",f=0,p=n.toolbar.length;p>f;f++){var g=n.toolbar[f][0],m=n.toolbar[f][1];h+='<div class="note-'+g+' btn-group">';for(var v=0,y=m.length;y>v;v++)t.isFunction(a[m[v]])&&(h+=a[m[v]](d,n));h+="</div>"}h='<div class="note-toolbar btn-toolbar">'+h+"</div>";var C=t(h).prependTo(i),T=n.keyMap[o.isMac?"mac":"pc"];D(C,n),x(C,T,"bottom");var S=t(l(d,n)).prependTo(i);D(S,n),x(S,T),t(c()).prependTo(i);var k=t(b(d,n)).prependTo(i);k.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(i),i.insertAfter(e),e.hide()},this.noteEditorFromHolder=function(e){return e.hasClass("note-air-editor")?e:e.next().hasClass("note-editor")?e.next():t()},this.createLayout=function(t,e){this.noteEditorFromHolder(t).length||(e.airMode?this.createLayoutByAirMode(t,e):this.createLayoutByFrame(t,e))},this.layoutInfoFromHolder=function(t){var e=this.noteEditorFromHolder(t);if(e.length){var n=u.buildLayoutInfo(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=n[i].call());return n}},this.removeLayout=function(t,e,n){n.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),e.popover.remove(),e.handle.remove(),e.dialog.remove()):(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,c);var E=new k,_=new S;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(n,i){var o=t(i);E.createLayout(o,e);var r=E.layoutInfoFromHolder(o);_.attach(r,e),u.isTextarea(o[0])&&o.closest("form").submit(function(){o.val(o.code())})}),this.first().length&&e.focus){var n=E.layoutInfoFromHolder(this.first());n.editable.focus()}return this.length&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var n=this.first();if(!n.length)return;var i=E.layoutInfoFromHolder(n);if(i&&i.editable){var r=i.editor.hasClass("codeview");return r&&o.hasCodeMirror&&i.codable.data("cmEditor").save(),r?i.codable.val():i.editable.html()}return u.isTextarea(n[0])?n.val():n.html()}return this.each(function(n,i){var o=E.layoutInfoFromHolder(t(i));o&&o.editable&&o.editable.html(e)}),this},destroy:function(){return this.each(function(e,n){var i=t(n),o=E.layoutInfoFromHolder(i);if(o&&o.editable){var r=o.editor.data("options");_.dettach(o,r),E.removeLayout(i,o,r)}}),this}})}),function(t){jQuery.fn.sheepIt=function(e){function n(){var t;return"function"==typeof e.beforeClone&&e.beforeClone(ie,he),t=he.cloneWithAttribut(!0),"function"==typeof e.afterClone&&e.afterClone(ie,t),t.getSource=function(){return ie},t}function i(t){t.preventDefault(),v()}function o(t){t.preventDefault(),""!==se.value&&y(se.attr("value"))}function r(n){n.preventDefault(),"function"==typeof e.beforeRemoveCurrent&&e.beforeRemoveCurrent(ie),e.removeCurrentConfirmation?confirm(e.removeCurrentConfirmationMsg)&&C(t(this).data("removableClone")):C(t(this).data("removableClone")),"function"==typeof e.afterRemoveCurrent&&e.afterRemoveCurrent(ie)}function s(t){t.preventDefault(),e.removeLastConfirmation?confirm(e.removeLastConfirmationMsg)&&b():b()}function a(t){t.preventDefault(),e.removeAllConfirmation?confirm(e.removeAllConfirmationMsg)&&w():w()}function l(t,e){var n=t.prop(e+"template");if(n)return unescape(n);var i=t.prop(e);return t.prop(e+"template",escape(i)),i}function u(n,i){n.find(ge).each(function(){{var o=t(this),r=l(o,"id"),s=l(o,"name"),a=o.attr("id");o.attr("name")}newNameAttr=s.replace(e.indexFormat,i),o.attr("name",newNameAttr),newIdAttr=r.replace(e.indexFormat,i),n.find("label[for='"+a+"']").each(function(){t(this).attr("for",newIdAttr)}),o.attr("id",newIdAttr)})}function c(t,e){d(t,e+1)}function d(t,n){return t.find(e.labelSelector).html(n),!0}function h(t){return t.find(e.labelSelector).html()}function f(){if(z()){1==A()?(ce.hideIf(),le.showIf()):(ce.showIf(),le.showIf());var t="";e.allowRemoveCurrent?(t=ie.find(e.removeCurrentSelector),Y()?t.show():t.hide()):(t=ie.find(e.removeCurrentSelector),t.hide())}else le.hideIf(),ce.hideIf();j()?(oe.showIf(),re.showIf()):(oe.hideIf(),re.hideIf()),Y()||(le.hideIf(),ce.hideIf()),"none"!=oe.css("display")||"none"!=re.css("display")||"none"!=ce.css("display")||"none"!=le.css("display")?de.show():de.hide()}function p(){if(z()){if(pe.hide(),e.continuousIndex){var t=0,n=N();do g(n,t),t++,n=R(n);while(0!=n)}}else pe.show()}function g(t,n){"undefined"==typeof n&&(n=F());var i=l(t,"id");if(t.attr("id")&&t.attr("id",i+n),u(t,n),c(t,n),-1!=t.html().indexOf(e.indexFormat)){var o=new RegExp(e.indexFormat,"ig");t.html(t.html().replace(o,n))}var r=t.find(e.removeCurrentSelector);return e.allowRemoveCurrent?r.show():r.hide(),t}function m(){p(),f()}function v(i,o){"undefined"==typeof i&&(i=!0),"undefined"==typeof o&&(o=!1),"function"==typeof e.beforeAdd&&e.beforeAdd(ie);var s=!1;if(o){if("string"==typeof o)s=t("#"+o);else{if("object"!=typeof o)return!1;s=o}s.remove()}else s=n();if(j()&&s){s=g(s);var a=s.find(e.removeCurrentSelector).first();if(a.click(r),a.data("removableClone",s),s.data("formIndex",F()),s.data("previousSeparator",!1),s.data("nextSeparator",!1),s.data("previousForm",!1),s.data("nextForm",!1),z()){var l=I();if(l.data("nextForm",s),s.data("previousForm",l),e.separator){var u=K();u.insertAfter(l),l.data("nextSeparator",u),s.data("previousSeparator",u)}}if("after"==e.insertNewForms?s.insertBefore(pe):s.insertAfter(pe),e.nestedForms.length>0){var c=0,d=[];for(c in e.nestedForms)if("undefined"!=typeof e.nestedForms[c].id&&"undefined"!=typeof e.nestedForms[c].options){e.nestedForms[c].isNestedForm=!0,e.nestedForms[c].parentForm=ie;var h=e.nestedForms[c].id.replace(e.indexFormat,s.data("formIndex")),f=t("#"+h).sheepIt(e.nestedForms[c].options);d.push(f)}s.data("nestedForms",d)}return ee(s),me.push(s),(i||e.continuousIndex)&&m(),"function"==typeof e.afterAdd&&e.afterAdd(ie,s),!0}return!1}function y(t,e){if("undefined"!=typeof t){t=parseFloat(t);var n=1;for(n=1;t>=n;n++)v(e)}}function b(t){return"undefined"==typeof t&&(t=!0),Y()?(x(),t&&m(),!0):!1}function w(t){if("undefined"==typeof t&&(t=!0),B()){var e=[];for(e in me)me[e]&&x(me[e]);return t&&m(),!0}return!1}function C(t,e){return"undefined"==typeof e&&(e=!0),Y()?(x(t),e&&m(),!0):!1}function x(t){return"undefined"==typeof t&&(t=I()),index=t.data("formIndex"),t.data("previousSeparator")&&t.data("nextSeparator")?(t.data("previousSeparator").remove(),t.data("previousForm").data("nextSeparator",t.data("nextSeparator"))):t.data("previousSeparator")&&!t.data("nextSeparator")?(t.data("previousSeparator").remove(),t.data("previousForm").data("nextSeparator",!1)):!t.data("previousSeparator")&&t.data("nextSeparator")&&(t.data("nextSeparator").remove(),t.data("nextForm").data("previousSeparator",!1)),t.data("previousForm")&&t.data("previousForm").data("nextForm",t.data("nextForm")),t.data("nextForm")&&t.data("nextForm").data("previousForm",t.data("previousForm")),me[index]=!1,t.remove(),!0}function D(){return ve}function T(){if(ve!==!1){if(me.length>1){var t=0,e=parseFloat(ve+1);for(t=e;t<me.length;t++)if(me[t])return ve=t,!0;return!1}return!1}return!1}function S(){if(ve!==!1){if(me.length>1){var t=0,e=parseFloat(ve-1);for(t=e;t>=0;t--)if(me[t])return ve=t,!0;return!1}return!1}return!1}function k(){if(ve=!1,me.length>0){var t=0;for(t in me)if(me[t])return ve=t,!0;return!1}return!1}function E(){if(ve=!1,me.length>0){if(me[me.length-1])return ve=me.length-1,!0;var t=0;for(t=me.length-1;t>=0;t--)if(me[t])return ve=t,!0;return!1}return!1}function _(){if(me.length>0){var t=0,e=[];for(e in me)me[e]&&t++;return t}return 0}function M(t){return"undefined"!=typeof t?(ve=$(t),ve!==!1?!0:!1):!1}function $(t){var e=0,n=0,i=!1;for(e in me)me[e]&&(n++,t==n&&(i=e));return i}function O(t){var e=0,n=0;for(e=0;t>=e;e++)me[e]&&n++;return n}function F(){return me.length}function A(){return _()}function N(){return k()!==!1?L():!1}function I(){return E()!==!1?L():!1}function R(t){return t?t.data("nextForm"):D()!==!1&&T()!==!1?L():!1}function H(t){return t?t.data("previousForm"):D()!==!1&&S()!==!1?L():!1}function L(){return D()!==!1?me[D()]:!1}function P(t){return z()?"undefined"!=typeof t?(M(t),L()):I():!1}function U(){if(z()){k();var t=0,e=[];for(t=0;t<A();t++)e.push(L()),T();return e}return!1}function z(){return A()>0?!0:!1}function j(){return 0==e.maxFormsCount?!0:A()<e.maxFormsCount?!0:!1}function Y(){return A()>e.minFormsCount?!0:!1}function B(){return 0==e.minFormsCount?!0:!1
}function W(n,i){var o="";"number"==typeof n?(n++,n>A()&&v(),o=P(n),q(o,i)):"string"==typeof n&&(o=t("#"+n),q(o,i)),"function"==typeof e.afterFill&&e.afterFill(ie,o,i)}function q(e,n){var i=0;t.each(n,function(t,n){var o=ie.attr("id"),r=e.data("formIndex");-1!=t.indexOf("#form#")||-1!=t.indexOf("#index#")?(t=t.replace("#form#",o),t=t.replace("#index#",r)):t=o+"_"+r+"_"+t;var s=e.find(':input[id="'+t+'"]');if(0==s.length&&(console,s=e.find(':input[name="'+t+'"]'),0==s.length&&(s=e.find(':input[name="'+t+'[]"]'))),s.length>0){var a=!1;"object"==typeof n&&(a=!0);var l=!1;if(s.length>1&&(l=!0),l)if(a){var u=[];u.fields=[],u.values=[],i=0;for(i in n)u.fields.push(s.filter('[value="'+n[i]+'"]')),u.values.push(n[i]);i=0;for(i in u.fields)V(u.fields[i],u.values[i])}else V(s.filter('[value="'+n+'"]',n));else if(a){i=0;for(i in n)V(s,n[i])}else V(s,n)}else if("undefined"!=typeof e.data("nestedForms")&&e.data("nestedForms").length>0){i=0;for(i in e.data("nestedForms"))t==e.data("nestedForms")[i].attr("id")&&"object"==typeof n&&e.data("nestedForms")[i].inject(n)}})}function V(e,n){var i=e.attr("type");if(e.is("textarea"))var i="textarea";if(e.is("select"))var i="select";return"text"==i||"hidden"==i||"password"==i?(e.attr("value",n),!0):"textarea"==i?(e.val(n),!0):"checkbox"==i||"radio"==i?(e.attr("checked","checked"),!0):"select"==i?(e.find("option").each(n.constructor===Array?function(){(t.inArray(t(this).text(),n)||t.inArray(t(this).attr("value"),n))&&t(this).attr("selected","selected")}:function(){(t(this).text()==n||t(this).attr("value")==n)&&t(this).attr("selected","selected")}),!0):!1}function G(){return""!=e.separator?!0:!1}function K(){return G()?t(e.separator):!1}function Z(n){e=[],e=t.extend(ye,n),ne(e)}function Q(){return e}function X(){ie.hide(),oe=t(e.addSelector),re=t(e.addNSelector),se=t(e.addNInputSelector),ae=t(e.addNButtonSelector),le=t(e.removeLastSelector),ue=t(e.removeCurrentSelector),ce=t(e.removeAllSelector),de=t(e.controlsSelector),0==oe.length&&(e.allowAdd=!1),0==re.length&&(e.allowAddN=!1),0==le.length&&(e.allowRemoveLast=!1),0==ce.length&&(e.allowRemoveAll=!1),J(oe,e.allowAdd,i),J(re,e.allowAddN,o,ae),J(le,e.allowRemoveLast,s),J(ce,e.allowRemoveAll,a),oe.init(),re.init(),le.init(),ce.init(),fe=t(e.formTemplateSelector),pe=t(e.noFormsTemplateSelector),he=fe.cloneWithAttribut(!0),fe.remove();var n=0;if(e.pregeneratedForms.length>0){n=0;for(n in e.pregeneratedForms)v(!1,e.pregeneratedForms[n])}if(e.iniFormsCount>A()){n=0;var r=e.iniFormsCount-A();for(n=1;r>=n;n++)v(!1)}e.data&&ie.inject(e.data),m(),ie.show()}function J(e,n,i,o){"undefined"==typeof o&&(o=!1),t.extend(e,{hideIf:function(t,i){n&&e.hide(t,i)},showIf:function(t,i){n&&e.show(t,i)},init:function(){n?(o?o.click(i):e.click(i),e.show()):e.hide()}})}function te(n){t.extend(n,{getAddControl:function(){return oe},getAddNControl:function(){return re},getRemoveLastControl:function(){return le},getRemoveAllControl:function(){return ce},getOptions:function(){return Q()},getOption:function(t){return e[t]},setOption:function(t,n){return"undefined"!=typeof t&&"undefined"!=typeof n?(e[t]=n,e[t]):!1},getForms:function(){return U()},getAllForms:function(){return U()},getForm:function(t){return"undefined"!=typeof t&&t++,P(t)},getLastForm:function(){return P()},getFirstForm:function(){return k(),L()},addForm:function(){return v()},addNForms:function(t){return y(t)},getFormsCount:function(){return A()},hasForms:function(){return z()},canAddForm:function(){return j()},canRemoveAllForms:function(){return B()},canRemoveForm:function(){return Y()},removeAllForms:function(){return w()},removeLastForm:function(){return b()},removeFirstForm:function(){return k(),x(L())},removeForm:function(t){return"undefined"!=typeof t&&t++,x(P(t))},inject:function(e){t.each(e,t.proxy(W,n))}})}function ee(e){t.extend(e,{setLabel:function(t){return d(e,t)},getLabel:function(){return h(e)},inject:function(t){q(e,t)},getNestedForms:function(){return e.data("nestedForms")},getNestedForm:function(t){return e.data("nestedForms")[t]},getPosition:function(){return O(e.data("formIndex"))},getPreviousForm:function(){return H(e)},getNextForm:function(){return R(e)},removeForm:function(){return x(e)}})}function ne(t){t.maxFormsCount>0?(t.maxFormsCount<t.minFormsCount&&(t.maxFormsCount=t.minFormsCount),(t.iniFormsCount<t.minFormsCount||t.iniFormsCount>t.maxFormsCount)&&(t.iniFormsCount=t.minFormsCount)):t.iniFormsCount<t.minFormsCount&&(t.iniFormsCount=t.minFormsCount),B()||(t.allowRemoveAll=!1)}var ie=t(this).first();te(ie);var oe,re,se,ae,le,ue,ce,de,he,fe,pe,ge="input, checkbox, select, textarea",me=[],ve=!1,ye={addSelector:"#"+t(this).attr("id")+"_add",addNSelector:"#"+t(this).attr("id")+"_add_n",addNInputSelector:"#"+t(this).attr("id")+"_add_n_input",addNButtonSelector:"#"+t(this).attr("id")+"_add_n_button",removeLastSelector:"#"+t(this).attr("id")+"_remove_last",removeCurrentSelector:"#"+t(this).attr("id")+"_remove_current",removeAllSelector:"#"+t(this).attr("id")+"_remove_all",controlsSelector:"#"+t(this).attr("id")+"_controls",labelSelector:"#"+t(this).attr("id")+"_label",allowRemoveLast:!0,allowRemoveCurrent:!0,allowRemoveAll:!1,allowAdd:!0,allowAddN:!1,removeLastConfirmation:!1,removeCurrentConfirmation:!1,removeAllConfirmation:!0,removeLastConfirmationMsg:"Are you sure?",removeCurrentConfirmationMsg:"Are you sure?",removeAllConfirmationMsg:"Are you sure?",formTemplateSelector:"#"+t(this).attr("id")+"_template",noFormsTemplateSelector:"#"+t(this).attr("id")+"_noforms_template",separator:'<div style="width:100%; border-top:1px solid #ff0000; margin: 10px 0px;"></div>',iniFormsCount:1,maxFormsCount:20,minFormsCount:1,incrementCount:1,noFormsMsg:"No forms to display",indexFormat:"#index#",data:[],pregeneratedForms:[],nestedForms:[],isNestedForm:!1,parentForm:{},beforeClone:function(){},afterClone:function(){},beforeAdd:function(){},afterAdd:function(){},afterFill:function(){},afterRemoveCurrent:function(){},beforeRemoveCurrent:function(){},insertNewForms:"after",continuousIndex:!0};return Z(e),X(),ie},jQuery.fn.cloneWithAttribut=function(e){if(jQuery.support.noCloneEvent)return t(this).clone(e);t(this).find("*").each(function(){t(this).data("name",t(this).attr("name"))});var n=t(this).clone(e);return n.find("*").each(function(){t(this).attr("name",t(this).data("name"))}),n}}(jQuery),function(){""!=window.location.hash&&$(".nav-stacked").length>0&&$(".nav-stacked").find('a[href="'+window.location.hash+'"]').tab("show"),$("form input").on("invalid",function(){$(this).parents(".form-group").addClass("has-error"),tab_id=$(this).parents(".tab-pane").attr("id"),$("a[href=#"+tab_id+"]").addClass("bg-red-pink")}),$("form:not(.jq-validate) input").on("focus",function(){$(this).is(":invalid")&&$(this).parents(".form-group").hasClass("has-error")&&$(this).parents(".form-group").removeClass("has-error")}),$("a[data-toggle]").on("click",function(){$(this).hasClass("bg-red-pink")&&$(this).removeClass("bg-red-pink")}),$(".toggle-side").sidr({source:"#side-menu",renaming:!1}),$(document).on("click",".confirm-delete",function(t){t.preventDefault();var e=$(this).parents("form")[0];return bootbox.confirm({message:"Anda pasti untuk memadam?",buttons:{cancel:{label:"Batal",className:"btn-default"},confirm:{label:"Padam",className:"btn-danger"}},callback:function(t){t&&e.submit()}}),!1}),$(".link-delete").click(function(t){return t.preventDefault(),bootbox.confirm({message:"Anda pasti?",buttons:{cancel:{label:"Batal",className:"btn-default"},confirm:{label:"Padam",className:"btn-danger"}},callback:function(t){t&&(window.location=$("a[data-bb='confirm']").attr("href"))}}),!1}),$(document).on("click",".confirm",function(t){t.preventDefault();var e=$(this).parents("form")[0];return console.log(e),bootbox.confirm({message:"Anda pasti?",buttons:{cancel:{label:"Batal",className:"btn-default"},confirm:{label:"Pasti",className:"btn-primary"}},callback:function(t){t&&$(e).submit()}}),!1}),$(".link-confirm").click(function(t){t.preventDefault();var e=$(this).attr("href");return bootbox.confirm({message:"Anda pasti?",buttons:{cancel:{label:"Batal",className:"btn-default"},confirm:{label:"Pasti",className:"btn-primary"}},callback:function(t){t&&(window.location=e)}}),!1}),$(window).height()==$(document).height()&&$(".page-content").css("min-height",$(window).height()-$(".page-header-top").height()-$(".page-header-btm").height()-$(".footer-darker").height()-$(".footer").height()-19),$(".nav-tabs .disabled a").click(function(t){t.preventDefault()}),$("form.form-uppercase").each(function(){$(this).find("input:not(:disabled), textarea:not(:disabled)").each(function(){$(this).hasClass("x-uppercase")||$(this).on("keyup",function(){$(this).val($(this).val().toUpperCase())})})}),$(".dropdown-menu").each(function(){0==$(this).find("li").length&&$(this).prev().remove()}),$(".sidr h1").each(function(){$(this).click(function(){$(this).next().slideToggle()})}),$(document).on("click",".btn-show-banner",function(t){return t.preventDefault(),bootbox.alert('<img src="'+$(this).attr("href")+'" width="100%" height="auto">',function(){}),!1}),$("form.disabled-submit").submit(function(){$(this).find("button").each(function(){this.disabled=!0})}),$("#select-navigation").on("change",function(){console.log($("#select-navigation option:selected").attr("value")),window.location.href=$("#select-navigation option:selected").attr("value")})}.call(this);